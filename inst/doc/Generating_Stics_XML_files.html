<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Generating STICS XML files from tabulated data</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>
<style type="text/css">.pagedtable {
overflow: auto;
padding-left: 8px;
padding-right: 8px;
}
.pagedtable-wrapper {
border: 1px solid #ccc;
border-radius: 4px;
margin-bottom: 10px;
}
.pagedtable table {
width: 100%;
max-width: 100%;
margin: 0;
}
.pagedtable th {
padding: 0 5px 0 5px;
border: none;
border-bottom: 2px solid #dddddd;
min-width: 45px;
}
.pagedtable-empty th {
display: none;
}
.pagedtable td {
padding: 0 4px 0 4px;
}
.pagedtable .even {
background-color: rgba(140, 140, 140, 0.1);
}
.pagedtable-padding-col {
display: none;
}
.pagedtable a {
-webkit-touch-callout: none;
-webkit-user-select: none;
-khtml-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
.pagedtable-index-nav {
cursor: pointer;
padding: 0 5px 0 5px;
float: right;
border: 0;
}
.pagedtable-index-nav-disabled {
cursor: default;
text-decoration: none;
color: #999;
}
a.pagedtable-index-nav-disabled:hover {
text-decoration: none;
color: #999;
}
.pagedtable-indexes {
cursor: pointer;
float: right;
border: 0;
}
.pagedtable-index-current {
cursor: default;
text-decoration: none;
font-weight: bold;
color: #333;
border: 0;
}
a.pagedtable-index-current:hover {
text-decoration: none;
font-weight: bold;
color: #333;
}
.pagedtable-index {
width: 30px;
display: inline-block;
text-align: center;
border: 0;
}
.pagedtable-index-separator-left {
display: inline-block;
color: #333;
font-size: 9px;
padding: 0 0 0 0;
cursor: default;
}
.pagedtable-index-separator-right {
display: inline-block;
color: #333;
font-size: 9px;
padding: 0 4px 0 0;
cursor: default;
}
.pagedtable-footer {
padding-top: 4px;
padding-bottom: 5px;
}
.pagedtable-not-empty .pagedtable-footer {
border-top: 2px solid #dddddd;
}
.pagedtable-info {
overflow: hidden;
color: #999;
white-space: nowrap;
text-overflow: ellipsis;
}
.pagedtable-header-name {
overflow: hidden;
text-overflow: ellipsis;
}
.pagedtable-header-type {
color: #999;
font-weight: 400;
}
.pagedtable-na-cell {
font-style: italic;
opacity: 0.3;
}
</style>
<script>// Production steps of ECMA-262, Edition 5, 15.4.4.18
// Reference: http://es5.github.io/#x15.4.4.18
if (!Array.prototype.forEach) {

  Array.prototype.forEach = function(callback, thisArg) {

    var T, k;

    if (this === null) {
      throw new TypeError(' this is null or not defined');
    }

    // 1. Let O be the result of calling toObject() passing the
    // |this| value as the argument.
    var O = Object(this);

    // 2. Let lenValue be the result of calling the Get() internal
    // method of O with the argument "length".
    // 3. Let len be toUint32(lenValue).
    var len = O.length >>> 0;

    // 4. If isCallable(callback) is false, throw a TypeError exception.
    // See: http://es5.github.com/#x9.11
    if (typeof callback !== "function") {
      throw new TypeError(callback + ' is not a function');
    }

    // 5. If thisArg was supplied, let T be thisArg; else let
    // T be undefined.
    if (arguments.length > 1) {
      T = thisArg;
    }

    // 6. Let k be 0
    k = 0;

    // 7. Repeat, while k < len
    while (k < len) {

      var kValue;

      // a. Let Pk be ToString(k).
      //    This is implicit for LHS operands of the in operator
      // b. Let kPresent be the result of calling the HasProperty
      //    internal method of O with argument Pk.
      //    This step can be combined with c
      // c. If kPresent is true, then
      if (k in O) {

        // i. Let kValue be the result of calling the Get internal
        // method of O with argument Pk.
        kValue = O[k];

        // ii. Call the Call internal method of callback with T as
        // the this value and argument list containing kValue, k, and O.
        callback.call(T, kValue, k, O);
      }
      // d. Increase k by 1.
      k++;
    }
    // 8. return undefined
  };
}

// Production steps of ECMA-262, Edition 5, 15.4.4.19
// Reference: http://es5.github.io/#x15.4.4.19
if (!Array.prototype.map) {

  Array.prototype.map = function(callback, thisArg) {

    var T, A, k;

    if (this == null) {
      throw new TypeError(' this is null or not defined');
    }

    // 1. Let O be the result of calling ToObject passing the |this|
    //    value as the argument.
    var O = Object(this);

    // 2. Let lenValue be the result of calling the Get internal
    //    method of O with the argument "length".
    // 3. Let len be ToUint32(lenValue).
    var len = O.length >>> 0;

    // 4. If IsCallable(callback) is false, throw a TypeError exception.
    // See: http://es5.github.com/#x9.11
    if (typeof callback !== 'function') {
      throw new TypeError(callback + ' is not a function');
    }

    // 5. If thisArg was supplied, let T be thisArg; else let T be undefined.
    if (arguments.length > 1) {
      T = thisArg;
    }

    // 6. Let A be a new array created as if by the expression new Array(len)
    //    where Array is the standard built-in constructor with that name and
    //    len is the value of len.
    A = new Array(len);

    // 7. Let k be 0
    k = 0;

    // 8. Repeat, while k < len
    while (k < len) {

      var kValue, mappedValue;

      // a. Let Pk be ToString(k).
      //   This is implicit for LHS operands of the in operator
      // b. Let kPresent be the result of calling the HasProperty internal
      //    method of O with argument Pk.
      //   This step can be combined with c
      // c. If kPresent is true, then
      if (k in O) {

        // i. Let kValue be the result of calling the Get internal
        //    method of O with argument Pk.
        kValue = O[k];

        // ii. Let mappedValue be the result of calling the Call internal
        //     method of callback with T as the this value and argument
        //     list containing kValue, k, and O.
        mappedValue = callback.call(T, kValue, k, O);

        // iii. Call the DefineOwnProperty internal method of A with arguments
        // Pk, Property Descriptor
        // { Value: mappedValue,
        //   Writable: true,
        //   Enumerable: true,
        //   Configurable: true },
        // and false.

        // In browsers that support Object.defineProperty, use the following:
        // Object.defineProperty(A, k, {
        //   value: mappedValue,
        //   writable: true,
        //   enumerable: true,
        //   configurable: true
        // });

        // For best browser support, use the following:
        A[k] = mappedValue;
      }
      // d. Increase k by 1.
      k++;
    }

    // 9. return A
    return A;
  };
}

var PagedTable = function (pagedTable) {
  var me = this;

  var source = function(pagedTable) {
    var sourceElems = [].slice.call(pagedTable.children).filter(function(e) {
      return e.hasAttribute("data-pagedtable-source");
    });

    if (sourceElems === null || sourceElems.length !== 1) {
      throw("A single data-pagedtable-source was not found");
    }

    return JSON.parse(sourceElems[0].innerHTML);
  }(pagedTable);

  var options = function(source) {
    var options = typeof(source.options) !== "undefined" &&
      source.options !== null ? source.options : {};

    var columns = typeof(options.columns) !== "undefined" ? options.columns : {};
    var rows = typeof(options.rows) !== "undefined" ? options.rows : {};

    var positiveIntOrNull = function(value) {
      return parseInt(value) >= 0 ? parseInt(value) : null;
    };

    return {
      pages: positiveIntOrNull(options.pages),
      rows: {
        min: positiveIntOrNull(rows.min),
        max: positiveIntOrNull(rows.max),
        total: positiveIntOrNull(rows.total)
      },
      columns: {
        min: positiveIntOrNull(columns.min),
        max: positiveIntOrNull(columns.max),
        total: positiveIntOrNull(columns.total)
      }
    };
  }(source);

  var Measurer = function() {

    // set some default initial values that will get adjusted in runtime
    me.measures = {
      padding: 12,
      character: 8,
      height: 15,
      defaults: true
    };

    me.calculate = function(measuresCell) {
      if (!me.measures.defaults)
        return;

      var measuresCellStyle = window.getComputedStyle(measuresCell, null);

      var newPadding = parsePadding(measuresCellStyle.paddingLeft) +
            parsePadding(measuresCellStyle.paddingRight);

      var sampleString = "ABCDEFGHIJ0123456789";
      var newCharacter = Math.ceil(measuresCell.clientWidth / sampleString.length);

      if (newPadding <= 0 || newCharacter <= 0)
        return;

      me.measures.padding = newPadding;
      me.measures.character = newCharacter;
      me.measures.height = measuresCell.clientHeight;
      me.measures.defaults = false;
    };

    return me;
  };

  var Page = function(data, options) {
    var me = this;

    var defaults = {
      max: 7,
      rows: 10
    };

    var totalPages = function() {
      return Math.ceil(data.length / me.rows);
    };

    me.number = 0;
    me.max = options.pages !== null ? options.pages : defaults.max;
    me.visible = me.max;
    me.rows = options.rows.min !== null ? options.rows.min : defaults.rows;
    me.total = totalPages();

    me.setRows = function(newRows) {
      me.rows = newRows;
      me.total = totalPages();
    };

    me.setPageNumber = function(newPageNumber) {
      if (newPageNumber < 0) newPageNumber = 0;
      if (newPageNumber >= me.total) newPageNumber = me.total - 1;

      me.number = newPageNumber;
    };

    me.setVisiblePages = function(visiblePages) {
      me.visible = Math.min(me.max, visiblePages);
      me.setPageNumber(me.number);
    };

    me.getVisiblePageRange = function() {
      var start = me.number - Math.max(Math.floor((me.visible - 1) / 2), 0);
      var end = me.number + Math.floor(me.visible / 2) + 1;
      var pageCount = me.total;

      if (start < 0) {
        var diffToStart = 0 - start;
        start += diffToStart;
        end += diffToStart;
      }

      if (end > pageCount) {
        var diffToEnd = end - pageCount;
        start -= diffToEnd;
        end -= diffToEnd;
      }

      start = start < 0 ? 0 : start;
      end = end >= pageCount ? pageCount : end;

      var first = false;
      var last = false;

      if (start > 0 && me.visible > 1) {
        start = start + 1;
        first = true;
      }

      if (end < pageCount && me.visible > 2) {
        end = end - 1;
        last = true;
      }

      return {
        first: first,
        start: start,
        end: end,
        last: last
      };
    };

    me.getRowStart = function() {
      var rowStart = page.number * page.rows;
      if (rowStart < 0)
        rowStart = 0;

      return rowStart;
    };

    me.getRowEnd = function() {
      var rowStart = me.getRowStart();
      return Math.min(rowStart + me.rows, data.length);
    };

    me.getPaddingRows = function() {
      var rowStart = me.getRowStart();
      var rowEnd = me.getRowEnd();
      return data.length > me.rows ? me.rows - (rowEnd - rowStart) : 0;
    };
  };

  var Columns = function(data, columns, options) {
    var me = this;

    me.defaults = {
      min: 5
    };

    me.number = 0;
    me.visible = 0;
    me.total = columns.length;
    me.subset = [];
    me.padding = 0;
    me.min = options.columns.min !== null ? options.columns.min : me.defaults.min;
    me.max = options.columns.max !== null ? options.columns.max : null;
    me.widths = {};

    var widthsLookAhead = Math.max(100, options.rows.min);
    var paddingColChars = 10;

    me.emptyNames = function() {
      columns.forEach(function(column) {
        if (columns.label !== null && columns.label !== "")
          return false;
      });

      return true;
    };

    var parsePadding = function(value) {
      return parseInt(value) >= 0 ? parseInt(value) : 0;
    };

    me.calculateWidths = function(measures) {
      columns.forEach(function(column) {
        var maxChars = Math.max(
          column.label.toString().length,
          column.type.toString().length
        );

        for (var idxRow = 0; idxRow < Math.min(widthsLookAhead, data.length); idxRow++) {
          maxChars = Math.max(maxChars, data[idxRow][column.name.toString()].length);
        }

        me.widths[column.name] = {
          // width in characters
          chars: maxChars,
          // width for the inner html columns
          inner: maxChars * measures.character,
          // width adding outer styles like padding
          outer: maxChars * measures.character + measures.padding
        };
      });
    };

    me.getWidth = function() {
      var widthOuter = 0;
      for (var idxCol = 0; idxCol < me.subset.length; idxCol++) {
        var columnName = me.subset[idxCol].name;
        widthOuter = widthOuter + me.widths[columnName].outer;
      }

      widthOuter = widthOuter + me.padding * paddingColChars * measurer.measures.character;

      if (me.hasMoreLeftColumns()) {
        widthOuter = widthOuter + columnNavigationWidthPX + measurer.measures.padding;
      }

      if (me.hasMoreRightColumns()) {
        widthOuter = widthOuter + columnNavigationWidthPX + measurer.measures.padding;
      }

      return widthOuter;
    };

    me.updateSlice = function() {
      if (me.number + me.visible >= me.total)
        me.number = me.total - me.visible;

      if (me.number < 0) me.number = 0;

      me.subset = columns.slice(me.number, Math.min(me.number + me.visible, me.total));

      me.subset = me.subset.map(function(column) {
        Object.keys(column).forEach(function(colKey) {
          column[colKey] = column[colKey] === null ? "" : column[colKey].toString();
        });

        column.width = null;
        return column;
      });
    };

    me.setVisibleColumns = function(columnNumber, newVisibleColumns, paddingCount) {
      me.number = columnNumber;
      me.visible = newVisibleColumns;
      me.padding = paddingCount;

      me.updateSlice();
    };

    me.incColumnNumber = function(increment) {
      me.number = me.number + increment;
    };

    me.setColumnNumber = function(newNumber) {
      me.number = newNumber;
    };

    me.setPaddingCount = function(newPadding) {
      me.padding = newPadding;
    };

    me.getPaddingCount = function() {
      return me.padding;
    };

    me.hasMoreLeftColumns = function() {
      return me.number > 0;
    };

    me.hasMoreRightColumns = function() {
      return me.number + me.visible < me.total;
    };

    me.updateSlice(0);
    return me;
  };

  var data = source.data;
  var page = new Page(data, options);
  var measurer = new Measurer(data, options);
  var columns = new Columns(data, source.columns, options);

  var table = null;
  var tableDiv = null;
  var header = null;
  var footer = null;
  var tbody = null;

  // Caches pagedTable.clientWidth, specially for webkit
  var cachedPagedTableClientWidth = null;

  var onChangeCallbacks = [];

  var clearSelection = function() {
    if(document.selection && document.selection.empty) {
      document.selection.empty();
    } else if(window.getSelection) {
      var sel = window.getSelection();
      sel.removeAllRanges();
    }
  };

  var columnNavigationWidthPX = 5;

  var renderColumnNavigation = function(increment, backwards) {
    var arrow = document.createElement("div");
    arrow.setAttribute("style",
      "border-top: " + columnNavigationWidthPX + "px solid transparent;" +
      "border-bottom: " + columnNavigationWidthPX + "px solid transparent;" +
      "border-" + (backwards ? "right" : "left") + ": " + columnNavigationWidthPX + "px solid;");

    var header = document.createElement("th");
    header.appendChild(arrow);
    header.setAttribute("style",
      "cursor: pointer;" +
      "vertical-align: middle;" +
      "min-width: " + columnNavigationWidthPX + "px;" +
      "width: " + columnNavigationWidthPX + "px;");

    header.onclick = function() {
      columns.incColumnNumber(backwards ? -1 : increment);

      me.animateColumns(backwards);
      renderFooter();

      clearSelection();
      triggerOnChange();
    };

    return header;
  };

  var maxColumnWidth = function(width) {
    var padding = 80;
    var columnMax = Math.max(cachedPagedTableClientWidth - padding, 0);

    return parseInt(width) > 0 ?
      Math.min(columnMax, parseInt(width)) + "px" :
      columnMax + "px";
  };

  var clearHeader = function() {
    var thead = pagedTable.querySelectorAll("thead")[0];
    thead.innerHTML = "";
  };

  var renderHeader = function(clear) {
    cachedPagedTableClientWidth = pagedTable.clientWidth;

    var fragment = document.createDocumentFragment();

    header = document.createElement("tr");
    fragment.appendChild(header);

    if (columns.number > 0)
      header.appendChild(renderColumnNavigation(-columns.visible, true));

    columns.subset = columns.subset.map(function(columnData) {
      var column = document.createElement("th");
      column.setAttribute("align", columnData.align);
      column.style.textAlign = columnData.align;

      column.style.maxWidth = maxColumnWidth(null);
      if (columnData.width) {
        column.style.minWidth =
          column.style.maxWidth = maxColumnWidth(columnData.width);
      }

      var columnName = document.createElement("div");
      columnName.setAttribute("class", "pagedtable-header-name");
      if (columnData.label === "") {
        columnName.innerHTML = "&nbsp;";
      }
      else {
        columnName.appendChild(document.createTextNode(columnData.label));
      }
      column.appendChild(columnName);

      var columnType = document.createElement("div");
      columnType.setAttribute("class", "pagedtable-header-type");
      if (columnData.type === "") {
        columnType.innerHTML = "&nbsp;";
      }
      else {
        columnType.appendChild(document.createTextNode("<" + columnData.type + ">"));
      }
      column.appendChild(columnType);

      header.appendChild(column);

      columnData.element = column;

      return columnData;
    });

    for (var idx = 0; idx < columns.getPaddingCount(); idx++) {
      var paddingCol = document.createElement("th");
      paddingCol.setAttribute("class", "pagedtable-padding-col");
      header.appendChild(paddingCol);
    }

    if (columns.number + columns.visible < columns.total)
      header.appendChild(renderColumnNavigation(columns.visible, false));

    if (typeof(clear) == "undefined" || clear) clearHeader();
    var thead = pagedTable.querySelectorAll("thead")[0];
    thead.appendChild(fragment);
  };

  me.animateColumns = function(backwards) {
    var thead = pagedTable.querySelectorAll("thead")[0];

    var headerOld = thead.querySelectorAll("tr")[0];
    var tbodyOld = table.querySelectorAll("tbody")[0];

    me.fitColumns(backwards);

    renderHeader(false);

    header.style.opacity = "0";
    header.style.transform = backwards ? "translateX(-30px)" : "translateX(30px)";
    header.style.transition = "transform 200ms linear, opacity 200ms";
    header.style.transitionDelay = "0";

    renderBody(false);

    if (headerOld) {
      headerOld.style.position = "absolute";
      headerOld.style.transform = "translateX(0px)";
      headerOld.style.opacity = "1";
      headerOld.style.transition = "transform 100ms linear, opacity 100ms";
      headerOld.setAttribute("class", "pagedtable-remove-head");
      if (headerOld.style.transitionEnd) {
        headerOld.addEventListener("transitionend", function() {
          var headerOldByClass = thead.querySelector(".pagedtable-remove-head");
          if (headerOldByClass) thead.removeChild(headerOldByClass);
        });
      }
      else {
        thead.removeChild(headerOld);
      }
    }

    if (tbodyOld) table.removeChild(tbodyOld);

    tbody.style.opacity = "0";
    tbody.style.transition = "transform 200ms linear, opacity 200ms";
    tbody.style.transitionDelay = "0ms";

    // force relayout
    window.getComputedStyle(header).opacity;
    window.getComputedStyle(tbody).opacity;

    if (headerOld) {
      headerOld.style.transform = backwards ? "translateX(20px)" : "translateX(-30px)";
      headerOld.style.opacity = "0";
    }

    header.style.transform = "translateX(0px)";
    header.style.opacity = "1";

    tbody.style.opacity = "1";
  }

  me.onChange = function(callback) {
    onChangeCallbacks.push(callback);
  };

  var triggerOnChange = function() {
    onChangeCallbacks.forEach(function(onChange) {
      onChange();
    });
  };

  var clearBody = function() {
    if (tbody) {
      table.removeChild(tbody);
      tbody = null;
    }
  };

  var renderBody = function(clear) {
    cachedPagedTableClientWidth = pagedTable.clientWidth

    var fragment = document.createDocumentFragment();

    var pageData = data.slice(page.getRowStart(), page.getRowEnd());

    pageData.forEach(function(dataRow, idxRow) {
      var htmlRow = document.createElement("tr");
      htmlRow.setAttribute("class", (idxRow % 2 !==0) ? "even" : "odd");

      if (columns.hasMoreLeftColumns())
        htmlRow.appendChild(document.createElement("td"));

      columns.subset.forEach(function(columnData) {
        var cellName = columnData.name;
        var dataCell = dataRow[cellName];
        var htmlCell = document.createElement("td");

        if (dataCell === "NA") htmlCell.setAttribute("class", "pagedtable-na-cell");
        if (dataCell === "__NA__") dataCell = "NA";

        var cellText = document.createTextNode(dataCell);
        htmlCell.appendChild(cellText);
        if (dataCell.length > 50) {
          htmlCell.setAttribute("title", dataCell);
        }
        htmlCell.setAttribute("align", columnData.align);
        htmlCell.style.textAlign = columnData.align;
        htmlCell.style.maxWidth = maxColumnWidth(null);
        if (columnData.width) {
          htmlCell.style.minWidth = htmlCell.style.maxWidth = maxColumnWidth(columnData.width);
        }
        htmlRow.appendChild(htmlCell);
      });

      for (var idx = 0; idx < columns.getPaddingCount(); idx++) {
        var paddingCol = document.createElement("td");
        paddingCol.setAttribute("class", "pagedtable-padding-col");
        htmlRow.appendChild(paddingCol);
      }

      if (columns.hasMoreRightColumns())
        htmlRow.appendChild(document.createElement("td"));

      fragment.appendChild(htmlRow);
    });

    for (var idxPadding = 0; idxPadding < page.getPaddingRows(); idxPadding++) {
      var paddingRow = document.createElement("tr");

      var paddingCellRow = document.createElement("td");
      paddingCellRow.innerHTML = "&nbsp;";
      paddingCellRow.setAttribute("colspan", "100%");
      paddingRow.appendChild(paddingCellRow);

      fragment.appendChild(paddingRow);
    }

    if (typeof(clear) == "undefined" || clear) clearBody();
    tbody = document.createElement("tbody");
    tbody.appendChild(fragment);

    table.appendChild(tbody);
  };

  var getLabelInfo = function() {
    var pageStart = page.getRowStart();
    var pageEnd = page.getRowEnd();
    var totalRows = data.length;

    var totalRowsLabel = options.rows.total ? options.rows.total : totalRows;
    var totalRowsLabelFormat = totalRowsLabel.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, '$1,');

    var infoText = (pageStart + 1) + "-" + pageEnd + " of " + totalRowsLabelFormat + " rows";
    if (totalRows < page.rows) {
      infoText = totalRowsLabel + " row" + (totalRows != 1 ? "s" : "");
    }
    if (columns.total > columns.visible) {
      var totalColumnsLabel = options.columns.total ? options.columns.total : columns.total;

      infoText = infoText + " | " + (columns.number + 1) + "-" +
        (Math.min(columns.number + columns.visible, columns.total)) +
        " of " + totalColumnsLabel + " columns";
    }

    return infoText;
  };

  var clearFooter = function() {
    footer = pagedTable.querySelectorAll("div.pagedtable-footer")[0];
    footer.innerHTML = "";

    return footer;
  };

  var createPageLink = function(idxPage) {
    var pageLink = document.createElement("a");
    pageLinkClass = idxPage === page.number ? "pagedtable-index pagedtable-index-current" : "pagedtable-index";
    pageLink.setAttribute("class", pageLinkClass);
    pageLink.setAttribute("data-page-index", idxPage);
    pageLink.onclick = function() {
      page.setPageNumber(parseInt(this.getAttribute("data-page-index")));
      renderBody();
      renderFooter();

      triggerOnChange();
    };

    pageLink.appendChild(document.createTextNode(idxPage + 1));

    return pageLink;
  }

  var renderFooter = function() {
    footer = clearFooter();

    var next = document.createElement("a");
    next.appendChild(document.createTextNode("Next"));
    next.onclick = function() {
      page.setPageNumber(page.number + 1);
      renderBody();
      renderFooter();

      triggerOnChange();
    };
    if (data.length > page.rows) footer.appendChild(next);

    var pageNumbers = document.createElement("div");
    pageNumbers.setAttribute("class", "pagedtable-indexes");

    var pageRange = page.getVisiblePageRange();

    if (pageRange.first) {
      var pageLink = createPageLink(0);
      pageNumbers.appendChild(pageLink);

      var pageSeparator = document.createElement("div");
      pageSeparator.setAttribute("class", "pagedtable-index-separator-left");
      pageSeparator.appendChild(document.createTextNode("..."))
      pageNumbers.appendChild(pageSeparator);
    }

    for (var idxPage = pageRange.start; idxPage < pageRange.end; idxPage++) {
      var pageLink = createPageLink(idxPage);

      pageNumbers.appendChild(pageLink);
    }

    if (pageRange.last) {
      var pageSeparator = document.createElement("div");
      pageSeparator.setAttribute("class", "pagedtable-index-separator-right");
      pageSeparator.appendChild(document.createTextNode("..."))
      pageNumbers.appendChild(pageSeparator);

      var pageLink = createPageLink(page.total - 1);
      pageNumbers.appendChild(pageLink);
    }

    if (data.length > page.rows) footer.appendChild(pageNumbers);

    var previous = document.createElement("a");
    previous.appendChild(document.createTextNode("Previous"));
    previous.onclick = function() {
      page.setPageNumber(page.number - 1);
      renderBody();
      renderFooter();

      triggerOnChange();
    };
    if (data.length > page.rows) footer.appendChild(previous);

    var infoLabel = document.createElement("div");
    infoLabel.setAttribute("class", "pagedtable-info");
    infoLabel.setAttribute("title", getLabelInfo());
    infoLabel.appendChild(document.createTextNode(getLabelInfo()));
    footer.appendChild(infoLabel);

    var enabledClass = "pagedtable-index-nav";
    var disabledClass = "pagedtable-index-nav pagedtable-index-nav-disabled";
    previous.setAttribute("class", page.number <= 0 ? disabledClass : enabledClass);
    next.setAttribute("class", (page.number + 1) * page.rows >= data.length ? disabledClass : enabledClass);
  };

  var measuresCell = null;

  var renderMeasures = function() {
    var measuresTable = document.createElement("table");
    measuresTable.style.visibility = "hidden";
    measuresTable.style.position = "absolute";
    measuresTable.style.whiteSpace = "nowrap";
    measuresTable.style.height = "auto";
    measuresTable.style.width = "auto";

    var measuresRow = document.createElement("tr");
    measuresTable.appendChild(measuresRow);

    measuresCell = document.createElement("td");
    var sampleString = "ABCDEFGHIJ0123456789";
    measuresCell.appendChild(document.createTextNode(sampleString));

    measuresRow.appendChild(measuresCell);

    tableDiv.appendChild(measuresTable);
  }

  me.init = function() {
    tableDiv = document.createElement("div");
    pagedTable.appendChild(tableDiv);
    var pagedTableClass = data.length > 0 ?
      "pagedtable pagedtable-not-empty" :
      "pagedtable pagedtable-empty";

    if (columns.total == 0 || (columns.emptyNames() && data.length == 0)) {
      pagedTableClass = pagedTableClass + " pagedtable-empty-columns";
    }

    tableDiv.setAttribute("class", pagedTableClass);

    renderMeasures();
    measurer.calculate(measuresCell);
    columns.calculateWidths(measurer.measures);

    table = document.createElement("table");
    table.setAttribute("cellspacing", "0");
    table.setAttribute("class", "table table-condensed");
    tableDiv.appendChild(table);

    table.appendChild(document.createElement("thead"));

    var footerDiv = document.createElement("div");
    footerDiv.setAttribute("class", "pagedtable-footer");
    tableDiv.appendChild(footerDiv);

    // if the host has not yet provided horizontal space, render hidden
    if (tableDiv.clientWidth <= 0) {
      tableDiv.style.opacity = "0";
    }

    me.render();

    // retry seizing columns later if the host has not provided space
    function retryFit() {
      if (tableDiv.clientWidth <= 0) {
        setTimeout(retryFit, 100);
      } else {
        me.render();
        triggerOnChange();
      }
    }
    if (tableDiv.clientWidth <= 0) {
      retryFit();
    }
  };

  var registerWidths = function() {
    columns.subset = columns.subset.map(function(column) {
      column.width = columns.widths[column.name].inner;
      return column;
    });
  };

  var parsePadding = function(value) {
    return parseInt(value) >= 0 ? parseInt(value) : 0;
  };

  me.fixedHeight = function() {
    return options.rows.max != null;
  }

  me.fitRows = function() {
    if (me.fixedHeight())
      return;

    measurer.calculate(measuresCell);

    var rows = options.rows.min !== null ? options.rows.min : 0;
    var headerHeight = header !== null && header.offsetHeight > 0 ? header.offsetHeight : 0;
    var footerHeight = footer !== null && footer.offsetHeight > 0 ? footer.offsetHeight : 0;

    if (pagedTable.offsetHeight > 0) {
      var availableHeight = pagedTable.offsetHeight - headerHeight - footerHeight;
      rows = Math.floor((availableHeight) / measurer.measures.height);
    }

    rows = options.rows.min !== null ? Math.max(options.rows.min, rows) : rows;

    page.setRows(rows);
  }

  // The goal of this function is to add as many columns as possible
  // starting from left-to-right, when the right most limit is reached
  // it tries to add columns from the left as well.
  //
  // When startBackwards is true columns are added from right-to-left
  me.fitColumns = function(startBackwards) {
    measurer.calculate(measuresCell);
    columns.calculateWidths(measurer.measures);

    if (tableDiv.clientWidth > 0) {
      tableDiv.style.opacity = 1;
    }

    var visibleColumns = tableDiv.clientWidth <= 0 ? Math.max(columns.min, 1) : 1;
    var columnNumber = columns.number;
    var paddingCount = 0;

    // track a list of added columns as we build the visible ones to allow us
    // to remove columns when they don't fit anymore.
    var columnHistory = [];

    var lastTableHeight = 0;
    var backwards = startBackwards;

    var tableDivStyle = window.getComputedStyle(tableDiv, null);
    var tableDivPadding = parsePadding(tableDivStyle.paddingLeft) +
      parsePadding(tableDivStyle.paddingRight);

    var addPaddingCol = false;
    var currentWidth = 0;

    while (true) {
      columns.setVisibleColumns(columnNumber, visibleColumns, paddingCount);
      currentWidth = columns.getWidth();

      if (tableDiv.clientWidth - tableDivPadding < currentWidth) {
        break;
      }

      columnHistory.push({
        columnNumber: columnNumber,
        visibleColumns: visibleColumns,
        paddingCount: paddingCount
      });

      if (columnHistory.length > 100) {
        console.error("More than 100 tries to fit columns, aborting");
        break;
      }

      if (columns.max !== null &&
        columns.visible + columns.getPaddingCount() >= columns.max) {
        break;
      }

      // if we run out of right-columns
      if (!backwards && columnNumber + columns.visible >= columns.total) {
        // if we started adding right-columns, try adding left-columns
        if (!startBackwards && columnNumber > 0) {
          backwards = true;
        }
        else if (columns.min === null || visibleColumns + columns.getPaddingCount() >= columns.min) {
          break;
        }
        else {
          paddingCount = paddingCount + 1;
        }
      }

      // if we run out of left-columns
      if (backwards && columnNumber == 0) {
        // if we started adding left-columns, try adding right-columns
        if (startBackwards && columnNumber + columns.visible < columns.total) {
          backwards = false;
        }
        else if (columns.min === null || visibleColumns + columns.getPaddingCount() >= columns.min) {
          break;
        }
        else {
          paddingCount = paddingCount + 1;
        }
      }

      // when moving backwards try fitting left columns first
      if (backwards && columnNumber > 0) {
        columnNumber = columnNumber - 1;
      }

      if (columnNumber + visibleColumns < columns.total) {
        visibleColumns = visibleColumns + 1;
      }
    }

    var lastRenderableColumn = {
        columnNumber: columnNumber,
        visibleColumns: visibleColumns,
        paddingCount: paddingCount
    };

    if (columnHistory.length > 0) {
      lastRenderableColumn = columnHistory[columnHistory.length - 1];
    }

    columns.setVisibleColumns(
      lastRenderableColumn.columnNumber,
      lastRenderableColumn.visibleColumns,
      lastRenderableColumn.paddingCount);

    if (pagedTable.offsetWidth > 0) {
      page.setVisiblePages(Math.max(Math.ceil(1.0 * (pagedTable.offsetWidth - 250) / 40), 2));
    }

    registerWidths();
  };

  me.fit = function(startBackwards) {
    me.fitRows();
    me.fitColumns(startBackwards);
  }

  me.render = function() {
    me.fitColumns(false);

    // render header/footer to measure height accurately
    renderHeader();
    renderFooter();

    me.fitRows();
    renderBody();

    // re-render footer to match new rows
    renderFooter();
  }

  var resizeLastWidth = -1;
  var resizeLastHeight = -1;
  var resizeNewWidth = -1;
  var resizeNewHeight = -1;
  var resizePending = false;

  me.resize = function(newWidth, newHeight) {

    function resizeDelayed() {
      resizePending = false;

      if (
        (resizeNewWidth !== resizeLastWidth) ||
        (!me.fixedHeight() && resizeNewHeight !== resizeLastHeight)
      ) {
        resizeLastWidth = resizeNewWidth;
        resizeLastHeight = resizeNewHeight;

        setTimeout(resizeDelayed, 200);
        resizePending = true;
      } else {
        me.render();
        triggerOnChange();

        resizeLastWidth = -1;
        resizeLastHeight = -1;
      }
    }

    resizeNewWidth = newWidth;
    resizeNewHeight = newHeight;

    if (!resizePending) resizeDelayed();
  };
};

var PagedTableDoc;
(function (PagedTableDoc) {
  var allPagedTables = [];

  PagedTableDoc.initAll = function() {
    allPagedTables = [];

    var pagedTables = [].slice.call(document.querySelectorAll('[data-pagedtable="false"],[data-pagedtable=""]'));
    pagedTables.forEach(function(pagedTable, idx) {
      pagedTable.setAttribute("data-pagedtable", "true");
      pagedTable.setAttribute("pagedtable-page", 0);
      pagedTable.setAttribute("class", "pagedtable-wrapper");

      var pagedTableInstance = new PagedTable(pagedTable);
      pagedTableInstance.init();

      allPagedTables.push(pagedTableInstance);
    });
  };

  PagedTableDoc.resizeAll = function() {
    allPagedTables.forEach(function(pagedTable) {
      pagedTable.render();
    });
  };

  window.addEventListener("resize", PagedTableDoc.resizeAll);

  return PagedTableDoc;
})(PagedTableDoc || (PagedTableDoc = {}));

window.onload = function() {
  PagedTableDoc.initAll();
};
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Generating STICS XML files from tabulated
data</h1>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(SticsRFiles)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<div id="introduction" class="section level1">
<h1>Introduction</h1>
<ul>
<li><p>In this part information are focusing on functionalities related
to STICS XML files generation capabilities based on parameterization for
lists of simulations (USMs) stored in tabulated data files; as Excel or
CSV files.</p></li>
<li><p>The functions operate on data loaded as data.frames from Excel
sheets or CSV files</p></li>
<li><p>Specialized functions for producing XML files are taking into
account: <strong>initialization files</strong>, <strong>stations
files</strong>, <strong>crop management files</strong>, <strong>usms
file</strong> and <strong>soils files</strong>. General parameters files
generation are not available, but will be eventually included in future
developments.</p></li>
<li><p>Observations data files generation have been included even if
they are not in XML format.</p></li>
<li><p>The generation of weather files is not included yet in the
package, but will be included in a future version. One can use the tool
provided by JavaSTICS GUI to perform these files generation.</p></li>
</ul>
<p>This document has been generated using the latest STICS version
<strong>V10.1.0</strong>.</p>
</div>
<div id="pkg-funs" class="section level1">
<h1>Package functions to be used</h1>
<p>There is not at the moment an integrated function which is able to
produce all needed parameters files. Individual functions are dedicated
to each parameter file kind and may be called individually or gathered
in a single script for doing all tasks at once. Use examples are given
in next parts below.</p>
<ul>
<li>gen_usms_xml: for generating a <code>usms.xml</code> file</li>
<li>gen_sols_xml: for generating a <code>sols.xml</code> file</li>
<li>gen_ini_xml: for generating simulations initialization files
(<code>*_ini.xml</code>)</li>
<li>gen_tec_xml: for generating crop management files
(<code>*_tec.xml</code>)</li>
<li>gen_sta_xml: for generating weather stations files
(<code>*_sta.xml</code>)</li>
</ul>
</div>
<div id="download-excel-example" class="section level1">
<h1>Getting a table file example</h1>
<div id="get-xl" class="section level2">
<h2>Getting inputs <code>Excel</code> example file from the
<code>SticsRFiles</code> package</h2>
<p>In the following example <code>/path/to/target/dir</code> must be
replaced with a real path depending on the operating system
(i.e. starting with <code>c:/</code> for windows for example)</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># Getting the file in the current directory</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>usm_xl_file <span class="ot">&lt;-</span> <span class="fu">download_usm_xl</span>()</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="co"># Getting the file in a specic directory</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>xl_dir <span class="ot">&lt;-</span> <span class="st">&quot;/path/to/xl/dir&quot;</span> <span class="co"># or something like C:/path/to/xl/dir&quot; for Windows</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>usm_xl_file <span class="ot">&lt;-</span> <span class="fu">download_usm_xl</span>(<span class="at">out_dir =</span> xl_dir)</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="co">#&gt; [1] &quot;inputs_stics_example.xlsx  has been copied in directory</span></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="co">#&gt; &quot;/path/to/xl/dir</span></span></code></pre></div>
</div>
<div id="get-csv" class="section level2">
<h2>Getting an USMs inputs <code>CSV</code> example file from the
<code>SticsRFiles</code> package</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Getting the file in the current directory</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>usm_csv_file <span class="ot">&lt;-</span> <span class="fu">download_usm_csv</span>(<span class="at">file =</span> <span class="st">&quot;inputs_stics_example_USMs.csv&quot;</span>)</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co"># Getting the file in a specific directory</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>csv_dir <span class="ot">&lt;-</span> <span class="st">&quot;/path/to/csv/dir&quot;</span> <span class="co"># or something like C:/path/to/xl/dir&quot; for Windows</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>usm_csv_file <span class="ot">&lt;-</span> <span class="fu">download_usm_csv</span>(<span class="at">file =</span> <span class="st">&quot;inputs_stics_example_USMs.csv&quot;</span>,</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>                                 <span class="at">out_dir =</span> csv_dir)</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="co">#&gt; [1] inputs_stics_example_USMs.csv  has been copied in directory</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="co">#&gt; &quot;/path/to/csv/dir</span></span></code></pre></div>
</div>
</div>
<div id="description-of-tables-expected-content-and-use" class="section level1">
<h1>Description of tables expected content and use</h1>
<p>As told in the previous section, parameters data may be stored either
in Excel files containing several sheets or in several equivalent
individual CSV files.</p>
<p>Sheets content and CSV files content is the same, only their use is
different. But, CSV files are easily traced under version control
systems and they also can be generated programmatically with the help of
functions dedicated for example to generating crop management parameters
like irrigation, fertilization (interventions and doses
calculations).</p>
<div id="important-information" class="section level2">
<h2>Important information</h2>
<p>The USMs data which are necessary for generating the
<code>usms.xml</code> must be all provided either through an Excel sheet
or a CSV file; as shown in the <a href="#usms-table-example">USMs sheet
example</a>.</p>
<p>Other data stored in Excel or CSV files must be adapted to the use
cases here after:</p>
<ul>
<li><p>For generating new files, containing parameters with different
values for each USM, tables <strong>must contain values for all the
files parameters</strong>.</p></li>
<li><p>For generating files with a common set of parameter values and
only a part of them must be overloaded with values coming from
parameters tables, one <strong>must give an existing</strong> file as a
template for files generation to functions <code>gen_*_xml</code>
(listed <a href="#pkg-funs">here</a>).</p></li>
</ul>
</div>
<div id="specificities-of-excel-sheets" class="section level2">
<h2>Specificities of Excel sheets</h2>
<p>Excel sheet names are completely free, but must be meaningful
regarding the kind of parameters set they contain.</p>
<p>In the example, useful sheets for generating XML parameters files are
named: <strong>USMs, Ini, Soils, Tec, Station</strong></p>
</div>
<div id="common-tables-specifications" class="section level2">
<h2>Common tables specifications</h2>
<p>The <strong>first column</strong> is used for storing identifiers or
files names (or prefix) and the USMs table contains identifiers of the
other linked tables in columns names <strong>finit, nomsol, fstation,
ftec_1, ftec_2</strong> with respect to initialization files, soil name,
station files and crop management files (for main crops and optionally
associated crops).</p>
<p>The <strong>first column names</strong> of data tables are
automatically detected and must contain keywords prefix to do so as
listed: <strong>usm_, ini_, soil_, sta_, tec_</strong></p>
<p>These first columns may contain either <strong>names identifiers or
files names</strong> according to data type:</p>
<ul>
<li>USMs or soil data: usm name or soil name</li>
<li>Initialization, station or crop management data: files names either
with or without suffix and XML extension (<strong>_ini.xml, _tec.xml, or
_sta.xml</strong>)</li>
</ul>
<p>Other columns of tables are named with <strong>parameters
names</strong> according to the following rules:</p>
<ul>
<li>Scalar parameters used parameter names must match the exact
parameter names (checking it syntax with the help of the
<code>get_param_info</code> function)</li>
<li>Vector parameters used parameter names must also match real
parameter names with adding a suffix indicating their index; for example
jultrav_1, jultrav_2, and so on…</li>
<li>Exceptions in some cases used parameters names in tables may be
different from real parameter names</li>
</ul>
<p>Here is the actual <strong>correspondence table</strong> of
<code>keywords</code> to be used in parameters tables (i.e excel files
for example) in replacement of real names in XML files:</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["keyword"],"name":[1],"type":["chr"],"align":["left"]},{"label":["realname"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"doseN","2":"absolute_value/%"},{"1":"doseI","2":"amount"},{"1":"codcueille","2":"codceuille"},{"1":"code_auto_profres_1","2":"code_auto_profres(1)"},{"1":"code_auto_profres_2","2":"code_auto_profres(2)"},{"1":"codedyntalle_1","2":"codedyntalle(1)"},{"1":"codedyntalle_2","2":"codedyntalle(2)"},{"1":"codemontaison_1","2":"codemontaison(1)"},{"1":"codemontaison_2","2":"codemontaison(2)"},{"1":"coefracoupe_1","2":"coefracoupe(1)"},{"1":"coefracoupe_2","2":"coefracoupe(2)"},{"1":"CsurNsol0","2":"csurNsol"},{"1":"ficinit","2":"finit"},{"1":"Hinitf","2":"hinit"},{"1":"julapI","2":"julapI_or_sum_upvt"},{"1":"julapN","2":"julapN_or_sum_upvt"},{"1":"kdesat","2":"k_desat"},{"1":"maxtalle_1","2":"MaxTalle(1)"},{"1":"maxtalle_2","2":"MaxTalle(2)"},{"1":"nbcueille","2":"nbceuille"},{"1":"NH4initf","2":"NH4init"},{"1":"NO3initf","2":"NO3init"},{"1":"codedate_irrigauto","2":"P_codedate_irrigauto"},{"1":"pH0","2":"pH"},{"1":"Pns","2":"ps"},{"1":"resk_1","2":"resk(1)"},{"1":"resk_2","2":"resk(2)"},{"1":"resplmax_1","2":"resplmax(1)"},{"1":"resplmax_2","2":"resplmax(2)"},{"1":"resz_1","2":"resz(1)"},{"1":"resz_2","2":"resz(2)"},{"1":"seuilLAIapex_1","2":"SeuilLAIapex(1)"},{"1":"seuilLAIapex_2","2":"SeuilLAIapex(2)"},{"1":"seuilmortalle_1","2":"SeuilMorTalle(1)"},{"1":"seuilmortalle_2","2":"SeuilMorTalle(2)"},{"1":"seuilreconspeupl_1","2":"SeuilReconsPeupl(1)"},{"1":"seuilreconspeupl_2","2":"SeuilReconsPeupl(2)"},{"1":"sigmadistalle_1","2":"SigmaDisTalle(1)"},{"1":"sigmadistalle_2","2":"SigmaDisTalle(2)"},{"1":"surfapex_1","2":"SurfApex(1)"},{"1":"surfapex_2","2":"SurfApex(2)"},{"1":"tigefeuilcoupe_1","2":"tigefeuilcoupe(1)"},{"1":"tigefeuilcoupe_2","2":"tigefeuilcoupe(2)"},{"1":"vitreconspeupl_1","2":"VitReconsPeupl(1)"},{"1":"vitreconspeupl_2","2":"VitReconsPeupl(2)"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>As an example, looking in the Tec sheet of the previously downloaded
Excel file, irrigation parameters for setting days and amount of water
supplied, are respectively named julapI_1, julapI_2,… and doseI_1,
doseI_2,… instead of using <strong>absolute_value/%</strong> and
<strong>amount</strong>.</p>
</div>
<div id="data-consistency-checks-in-tables" class="section level2">
<h2>Data consistency checks in tables</h2>
<p>For the moment, <em>no consistency checks</em> (between Excel sheets
or CSV equivalents files) functionalities have been included in the
package in order to prevent missing generated files or misspelled file
names or identifiers.</p>
<p>So, one must take care of <strong>links between xml files
names</strong> for example files names defined for usms related to names
declared for example in Excel sheets <code>Tec</code>,
<code>Station</code>, and so on.</p>
<p>In future developments, checks will be included to run be run prior
to files generations, for preventing errors.</p>
</div>
<div id="usms-table-example" class="section level2">
<h2>USMs table example</h2>
<p>The Excel file which contains parameters values to take into account
for STICS inputs may contain specific sheets for each kind of parameters
groups, i.e. USMs, crop management, soil, weather station,
initializations (except plant parameters and general parameters).</p>
<p>The following table contains data extracted from a sheet named USMs
containing a list of USMS parameters or from his equivalent CSV example
file.</p>
<table>
<colgroup>
<col width="13%" />
<col width="3%" />
<col width="2%" />
<col width="7%" />
<col width="2%" />
<col width="6%" />
<col width="4%" />
<col width="4%" />
<col width="3%" />
<col width="3%" />
<col width="3%" />
<col width="7%" />
<col width="16%" />
<col width="2%" />
<col width="6%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">usm_name</th>
<th align="left">datedebut</th>
<th align="left">datefin</th>
<th align="left">finit</th>
<th align="left">nomsol</th>
<th align="left">fstation</th>
<th align="left">fclim1</th>
<th align="left">fclim2</th>
<th align="left">culturean</th>
<th align="left">nbplantes</th>
<th align="left">codesimul</th>
<th align="left">fplt_1</th>
<th align="left">ftec_1</th>
<th align="left">flai_1</th>
<th align="left">fobs_1</th>
<th align="left">fplt_2</th>
<th align="left">ftec_2</th>
<th align="left">flai_2</th>
<th align="left">fobs_2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">USM_2017_T1_CI</td>
<td align="left">199</td>
<td align="left">263</td>
<td align="left">USM_2017_T1_ini.xml</td>
<td align="left">USM_T1</td>
<td align="left">climatex_sta.xml</td>
<td align="left">climatex.2017</td>
<td align="left">climatex.2017</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">rapeseed_plt.xml</td>
<td align="left">USM_2017_T1_CI_tec.xml</td>
<td align="left">NA</td>
<td align="left">USM_2017_T1_CI.obs</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">USM_2018_T1</td>
<td align="left">264</td>
<td align="left">570</td>
<td align="left">USM_2017_T1_ini.xml</td>
<td align="left">USM_T1</td>
<td align="left">climatex_sta.xml</td>
<td align="left">climatex.2017</td>
<td align="left">climatex.2018</td>
<td align="left">2</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">wheat_plt.xml</td>
<td align="left">USM_2018_T1_tec.xml</td>
<td align="left">NA</td>
<td align="left">USM_2018_T1.obs</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">BIN_CAN_05_SEC_220-0-0_34K_CANPC05T3_Q</td>
<td align="left">199</td>
<td align="left">263</td>
<td align="left">Vill11_ini.xml</td>
<td align="left">LF1</td>
<td align="left">climatex_sta.xml</td>
<td align="left">climatex.2017</td>
<td align="left">climatex.2017</td>
<td align="left">2</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">proto_potato_plt.xml</td>
<td align="left">BIN_CAN_05_SEC_220-0-0_34K_CANPC05T3_Q_tec.xml</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">BIN_AGT_04_IRR_220-0-0_33K_AGT04T2_Q</td>
<td align="left">264</td>
<td align="left">570</td>
<td align="left">Vill11_ini.xml</td>
<td align="left">LF1</td>
<td align="left">climatex_sta.xml</td>
<td align="left">climatex.2017</td>
<td align="left">climatex.2018</td>
<td align="left">2</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">proto_potato_plt.xml</td>
<td align="left">BIN_AGT_04_IRR_220-0-0_33K_AGT04T2_Q_tec.xml</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">AGA_ARB_13_IRR_220-0-0_37K_ARB13_C</td>
<td align="left">199</td>
<td align="left">263</td>
<td align="left">Vill11_ini.xml</td>
<td align="left">LF1</td>
<td align="left">climatex_sta.xml</td>
<td align="left">climatex.2017</td>
<td align="left">climatex.2017</td>
<td align="left">2</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">proto_potato_plt.xml</td>
<td align="left">AGA_ARB_13_IRR_220-0-0_37K_ARB13_C_tec.xml</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">AGA_ARB_13_SEC_220-0-0_37K_ARB13_C</td>
<td align="left">264</td>
<td align="left">570</td>
<td align="left">Vill11_ini.xml</td>
<td align="left">LF1</td>
<td align="left">climatex_sta.xml</td>
<td align="left">climatex.2017</td>
<td align="left">climatex.2018</td>
<td align="left">2</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">proto_potato_plt.xml</td>
<td align="left">AGA_ARB_13_SEC_220-0-0_37K_ARB13_C_tec.xml</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">FRA_ARB_11_SEC_220-0-0_38K_E</td>
<td align="left">199</td>
<td align="left">263</td>
<td align="left">Vill11_ini.xml</td>
<td align="left">LF1</td>
<td align="left">climatex_sta.xml</td>
<td align="left">climatex.2017</td>
<td align="left">climatex.2017</td>
<td align="left">2</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">proto_potato_plt.xml</td>
<td align="left">FRA_ARB_11_SEC_220-0-0_38K_E_tec.xml</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">MAG_ARB_09_SEC_220-0-0_38K_E</td>
<td align="left">264</td>
<td align="left">570</td>
<td align="left">Vill11_ini.xml</td>
<td align="left">LF1</td>
<td align="left">climatex_sta.xml</td>
<td align="left">climatex.2017</td>
<td align="left">climatex.2018</td>
<td align="left">2</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">proto_potato_plt.xml</td>
<td align="left">MAG_ARB_09_SEC_220-0-0_38K_E_tec.xml</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">MAG_ARV_12_IRR_220-0-0_36K_ARV12_C</td>
<td align="left">199</td>
<td align="left">263</td>
<td align="left">Vill11_ini.xml</td>
<td align="left">LF1</td>
<td align="left">climatex_sta.xml</td>
<td align="left">climatex.2017</td>
<td align="left">climatex.2017</td>
<td align="left">2</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">proto_potato_plt.xml</td>
<td align="left">MAG_ARV_12_IRR_220-0-0_36K_ARV12_C_tec.xml</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">MAG_ARV_12_SEC_220-0-0_36K_ARV12_C</td>
<td align="left">264</td>
<td align="left">570</td>
<td align="left">Vill11_ini.xml</td>
<td align="left">LF1</td>
<td align="left">climatex_sta.xml</td>
<td align="left">climatex.2017</td>
<td align="left">climatex.2018</td>
<td align="left">2</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">proto_potato_plt.xml</td>
<td align="left">MAG_ARV_12_SEC_220-0-0_36K_ARV12_C_tec.xml</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">FRA_ARB_12_SEC_220-0-0_31K_ARB12_C</td>
<td align="left">199</td>
<td align="left">263</td>
<td align="left">Vill11_ini.xml</td>
<td align="left">LF1</td>
<td align="left">climatex_sta.xml</td>
<td align="left">climatex.2017</td>
<td align="left">climatex.2017</td>
<td align="left">2</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">proto_potato_plt.xml</td>
<td align="left">FRA_ARB_12_SEC_220-0-0_31K_ARB12_C_tec.xml</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">FRA_ARB_13_SEC_220-0-0_37K_ARB13_C</td>
<td align="left">264</td>
<td align="left">570</td>
<td align="left">Vill11_ini.xml</td>
<td align="left">LF1</td>
<td align="left">climatex_sta.xml</td>
<td align="left">climatex.2017</td>
<td align="left">climatex.2018</td>
<td align="left">2</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">proto_potato_plt.xml</td>
<td align="left">FRA_ARB_13_SEC_220-0-0_37K_ARB13_C_tec.xml</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="generating-the-usms-xml-file-usms.xml" class="section level1">
<h1>Generating the <code>usms</code> XML file (<em>usms.xml</em>)</h1>
<p>The gen_usms_xml function is working on a data.frame object that can
be loaded either from an Excel file sheet or from a csv file. Here after
code shows how to get data from the downloaded examples <a href="#get-xl">Excel</a> and <a href="#get-csv">CSV</a> files.</p>
<div id="getting-data" class="section level2">
<h2>Getting data</h2>
<!-- Only for the show -->
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># Reading the Excel file</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>usms_param <span class="ot">&lt;-</span> <span class="fu">read_params_table</span>(usm_xl_file, <span class="at">sheet_name =</span> <span class="st">&quot;USMs&quot;</span>)</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="co"># Or</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="co"># Reading the CSV file</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>usms_param <span class="ot">&lt;-</span> <span class="fu">read_params_table</span>(usm_csv_file)</span></code></pre></div>
<!-- active chunk to be run -->
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["usm_name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["datedebut"],"name":[2],"type":["chr"],"align":["left"]},{"label":["datefin"],"name":[3],"type":["chr"],"align":["left"]},{"label":["finit"],"name":[4],"type":["chr"],"align":["left"]},{"label":["nomsol"],"name":[5],"type":["chr"],"align":["left"]},{"label":["fstation"],"name":[6],"type":["chr"],"align":["left"]},{"label":["fclim1"],"name":[7],"type":["chr"],"align":["left"]},{"label":["fclim2"],"name":[8],"type":["chr"],"align":["left"]},{"label":["culturean"],"name":[9],"type":["chr"],"align":["left"]},{"label":["nbplantes"],"name":[10],"type":["chr"],"align":["left"]},{"label":["codesimul"],"name":[11],"type":["chr"],"align":["left"]},{"label":["fplt_1"],"name":[12],"type":["chr"],"align":["left"]},{"label":["ftec_1"],"name":[13],"type":["chr"],"align":["left"]},{"label":["flai_1"],"name":[14],"type":["chr"],"align":["left"]},{"label":["fobs_1"],"name":[15],"type":["chr"],"align":["left"]},{"label":["fplt_2"],"name":[16],"type":["chr"],"align":["left"]},{"label":["ftec_2"],"name":[17],"type":["chr"],"align":["left"]},{"label":["flai_2"],"name":[18],"type":["chr"],"align":["left"]},{"label":["fobs_2"],"name":[19],"type":["chr"],"align":["left"]}],"data":[{"1":"USM_2017_T1_CI","2":"199","3":"263","4":"USM_2017_T1_ini.xml","5":"USM_T1","6":"climatex_sta.xml","7":"climatex.2017","8":"climatex.2017","9":"1","10":"1","11":"0","12":"rapeseed_plt.xml","13":"USM_2017_T1_CI_tec.xml","14":"__NA__","15":"USM_2017_T1_CI.obs","16":"__NA__","17":"__NA__","18":"__NA__","19":"__NA__"},{"1":"USM_2018_T1","2":"264","3":"570","4":"USM_2017_T1_ini.xml","5":"USM_T1","6":"climatex_sta.xml","7":"climatex.2017","8":"climatex.2018","9":"2","10":"1","11":"0","12":"wheat_plt.xml","13":"USM_2018_T1_tec.xml","14":"__NA__","15":"USM_2018_T1.obs","16":"__NA__","17":"__NA__","18":"__NA__","19":"__NA__"},{"1":"BIN_CAN_05_SEC_220-0-0_34K_CANPC05T3_Q","2":"199","3":"263","4":"Vill11_ini.xml","5":"LF1","6":"climatex_sta.xml","7":"climatex.2017","8":"climatex.2017","9":"2","10":"1","11":"0","12":"proto_potato_plt.xml","13":"BIN_CAN_05_SEC_220-0-0_34K_CANPC05T3_Q_tec.xml","14":"__NA__","15":"__NA__","16":"__NA__","17":"__NA__","18":"__NA__","19":"__NA__"},{"1":"BIN_AGT_04_IRR_220-0-0_33K_AGT04T2_Q","2":"264","3":"570","4":"Vill11_ini.xml","5":"LF1","6":"climatex_sta.xml","7":"climatex.2017","8":"climatex.2018","9":"2","10":"1","11":"0","12":"proto_potato_plt.xml","13":"BIN_AGT_04_IRR_220-0-0_33K_AGT04T2_Q_tec.xml","14":"__NA__","15":"__NA__","16":"__NA__","17":"__NA__","18":"__NA__","19":"__NA__"},{"1":"AGA_ARB_13_IRR_220-0-0_37K_ARB13_C","2":"199","3":"263","4":"Vill11_ini.xml","5":"LF1","6":"climatex_sta.xml","7":"climatex.2017","8":"climatex.2017","9":"2","10":"1","11":"0","12":"proto_potato_plt.xml","13":"AGA_ARB_13_IRR_220-0-0_37K_ARB13_C_tec.xml","14":"__NA__","15":"__NA__","16":"__NA__","17":"__NA__","18":"__NA__","19":"__NA__"},{"1":"AGA_ARB_13_SEC_220-0-0_37K_ARB13_C","2":"264","3":"570","4":"Vill11_ini.xml","5":"LF1","6":"climatex_sta.xml","7":"climatex.2017","8":"climatex.2018","9":"2","10":"1","11":"0","12":"proto_potato_plt.xml","13":"AGA_ARB_13_SEC_220-0-0_37K_ARB13_C_tec.xml","14":"__NA__","15":"__NA__","16":"__NA__","17":"__NA__","18":"__NA__","19":"__NA__"},{"1":"FRA_ARB_11_SEC_220-0-0_38K_E","2":"199","3":"263","4":"Vill11_ini.xml","5":"LF1","6":"climatex_sta.xml","7":"climatex.2017","8":"climatex.2017","9":"2","10":"1","11":"0","12":"proto_potato_plt.xml","13":"FRA_ARB_11_SEC_220-0-0_38K_E_tec.xml","14":"__NA__","15":"__NA__","16":"__NA__","17":"__NA__","18":"__NA__","19":"__NA__"},{"1":"MAG_ARB_09_SEC_220-0-0_38K_E","2":"264","3":"570","4":"Vill11_ini.xml","5":"LF1","6":"climatex_sta.xml","7":"climatex.2017","8":"climatex.2018","9":"2","10":"1","11":"0","12":"proto_potato_plt.xml","13":"MAG_ARB_09_SEC_220-0-0_38K_E_tec.xml","14":"__NA__","15":"__NA__","16":"__NA__","17":"__NA__","18":"__NA__","19":"__NA__"},{"1":"MAG_ARV_12_IRR_220-0-0_36K_ARV12_C","2":"199","3":"263","4":"Vill11_ini.xml","5":"LF1","6":"climatex_sta.xml","7":"climatex.2017","8":"climatex.2017","9":"2","10":"1","11":"0","12":"proto_potato_plt.xml","13":"MAG_ARV_12_IRR_220-0-0_36K_ARV12_C_tec.xml","14":"__NA__","15":"__NA__","16":"__NA__","17":"__NA__","18":"__NA__","19":"__NA__"},{"1":"MAG_ARV_12_SEC_220-0-0_36K_ARV12_C","2":"264","3":"570","4":"Vill11_ini.xml","5":"LF1","6":"climatex_sta.xml","7":"climatex.2017","8":"climatex.2018","9":"2","10":"1","11":"0","12":"proto_potato_plt.xml","13":"MAG_ARV_12_SEC_220-0-0_36K_ARV12_C_tec.xml","14":"__NA__","15":"__NA__","16":"__NA__","17":"__NA__","18":"__NA__","19":"__NA__"},{"1":"FRA_ARB_12_SEC_220-0-0_31K_ARB12_C","2":"199","3":"263","4":"Vill11_ini.xml","5":"LF1","6":"climatex_sta.xml","7":"climatex.2017","8":"climatex.2017","9":"2","10":"1","11":"0","12":"proto_potato_plt.xml","13":"FRA_ARB_12_SEC_220-0-0_31K_ARB12_C_tec.xml","14":"__NA__","15":"__NA__","16":"__NA__","17":"__NA__","18":"__NA__","19":"__NA__"},{"1":"FRA_ARB_13_SEC_220-0-0_37K_ARB13_C","2":"264","3":"570","4":"Vill11_ini.xml","5":"LF1","6":"climatex_sta.xml","7":"climatex.2017","8":"climatex.2018","9":"2","10":"1","11":"0","12":"proto_potato_plt.xml","13":"FRA_ARB_13_SEC_220-0-0_37K_ARB13_C_tec.xml","14":"__NA__","15":"__NA__","16":"__NA__","17":"__NA__","18":"__NA__","19":"__NA__"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="generating-the-file" class="section level2">
<h2>Generating the file</h2>
<!-- Only for the show -->
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="co"># Output file path</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>out_file <span class="ot">&lt;-</span> <span class="st">&quot;/path/to/file/usms.xml&quot;</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="co"># or something like C:/path/to/file/usms.xml&quot; for Windows</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="co"># Generating a new usms.xml file, for all xl_param lines</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="fu">gen_usms_xml</span>(<span class="at">file =</span> out_file, <span class="at">param_df =</span> usms_param)</span></code></pre></div>
<!-- active chunk to be run -->
</div>
<div id="usms.xml-file-content" class="section level2">
<h2><code>usms.xml</code> file content</h2>
<p>Example of the first <code>usm</code> parameters:</p>
<pre><code>#&gt; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;
#&gt; &lt;usms version=&quot;10.1.0&quot;&gt;
#&gt;   &lt;usm nom=&quot;USM_2017_T1_CI&quot;&gt;
#&gt;     &lt;datedebut&gt;199&lt;/datedebut&gt;
#&gt;     &lt;datefin&gt;263&lt;/datefin&gt;
#&gt;     &lt;finit&gt;USM_2017_T1_ini.xml&lt;/finit&gt;
#&gt;     &lt;nomsol&gt;USM_T1&lt;/nomsol&gt;
#&gt;     &lt;fstation&gt;climatex_sta.xml&lt;/fstation&gt;
#&gt;     &lt;fclim1&gt;climatex.2017&lt;/fclim1&gt;
#&gt;     &lt;fclim2&gt;climatex.2017&lt;/fclim2&gt;
#&gt;     &lt;culturean&gt;1&lt;/culturean&gt;
#&gt;     &lt;nbplantes&gt;1&lt;/nbplantes&gt;
#&gt;     &lt;codesimul&gt;0&lt;/codesimul&gt;
#&gt;     &lt;plante dominance=&quot;1&quot;&gt;
#&gt;       &lt;fplt&gt;rapeseed_plt.xml&lt;/fplt&gt;
#&gt;       &lt;ftec&gt;USM_2017_T1_CI_tec.xml&lt;/ftec&gt;
#&gt;       &lt;flai&gt;NA&lt;/flai&gt;
#&gt;       &lt;fobs&gt;USM_2017_T1_CI.obs&lt;/fobs&gt;
#&gt;     &lt;/plante&gt;
#&gt;     &lt;plante dominance=&quot;2&quot;&gt;
#&gt;       &lt;fplt&gt;NA&lt;/fplt&gt;
#&gt;       &lt;ftec&gt;NA&lt;/ftec&gt;
#&gt;       &lt;flai&gt;NA&lt;/flai&gt;
#&gt;       &lt;fobs&gt;NA&lt;/fobs&gt;
#&gt; ...
#&gt; &lt;/usms&gt;</code></pre>
</div>
</div>
<div id="generating-the-sols-xml-file-sols.xml" class="section level1">
<h1>Generating the <code>sols</code> XML file (<em>sols.xml</em>)</h1>
<p>As for <code>gen_usms_xml</code>, <code>gen_sols_xml</code> function
is working on a data.frame object loaded from an Excel file sheet. The
following code only shows here after the <code>sols.xml</code> file
generation section.</p>
<div id="getting-data-1" class="section level2">
<h2>Getting data</h2>
<!-- Only for the show -->
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co"># Reading the Excel file</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>soils_param <span class="ot">&lt;-</span> <span class="fu">read_params_table</span>(usm_xl_file, <span class="at">sheet_name =</span> <span class="st">&quot;Soils&quot;</span>)</span></code></pre></div>
<!-- active chunk to be run -->
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Soil_name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["argi"],"name":[2],"type":["chr"],"align":["left"]},{"label":["norg"],"name":[3],"type":["chr"],"align":["left"]},{"label":["profhum"],"name":[4],"type":["chr"],"align":["left"]},{"label":["calc"],"name":[5],"type":["chr"],"align":["left"]},{"label":["pH"],"name":[6],"type":["chr"],"align":["left"]},{"label":["concseuil"],"name":[7],"type":["chr"],"align":["left"]},{"label":["albedo"],"name":[8],"type":["chr"],"align":["left"]},{"label":["q0"],"name":[9],"type":["chr"],"align":["left"]},{"label":["ruisolnu"],"name":[10],"type":["chr"],"align":["left"]},{"label":["obstarac"],"name":[11],"type":["chr"],"align":["left"]},{"label":["pluiebat"],"name":[12],"type":["chr"],"align":["left"]},{"label":["mulchbat"],"name":[13],"type":["chr"],"align":["left"]},{"label":["zesx"],"name":[14],"type":["chr"],"align":["left"]},{"label":["cfes"],"name":[15],"type":["chr"],"align":["left"]},{"label":["z0solnu"],"name":[16],"type":["chr"],"align":["left"]},{"label":["CsurNsol"],"name":[17],"type":["chr"],"align":["left"]},{"label":["finert"],"name":[18],"type":["chr"],"align":["left"]},{"label":["penterui"],"name":[19],"type":["chr"],"align":["left"]},{"label":["codecailloux"],"name":[20],"type":["chr"],"align":["left"]},{"label":["codemacropor"],"name":[21],"type":["chr"],"align":["left"]},{"label":["codefente"],"name":[22],"type":["chr"],"align":["left"]},{"label":["codrainage"],"name":[23],"type":["chr"],"align":["left"]},{"label":["profimper"],"name":[24],"type":["chr"],"align":["left"]},{"label":["ecartdrain"],"name":[25],"type":["chr"],"align":["left"]},{"label":["ksol"],"name":[26],"type":["chr"],"align":["left"]},{"label":["profdrain"],"name":[27],"type":["chr"],"align":["left"]},{"label":["coderemontcap"],"name":[28],"type":["chr"],"align":["left"]},{"label":["capiljour"],"name":[29],"type":["chr"],"align":["left"]},{"label":["humcapil"],"name":[30],"type":["chr"],"align":["left"]},{"label":["codenitrif"],"name":[31],"type":["chr"],"align":["left"]},{"label":["codedenit"],"name":[32],"type":["chr"],"align":["left"]},{"label":["profdenit"],"name":[33],"type":["chr"],"align":["left"]},{"label":["vpotdenit"],"name":[34],"type":["chr"],"align":["left"]},{"label":["epc_1"],"name":[35],"type":["chr"],"align":["left"]},{"label":["HCCF_1"],"name":[36],"type":["chr"],"align":["left"]},{"label":["HMINF_1"],"name":[37],"type":["chr"],"align":["left"]},{"label":["DAF_1"],"name":[38],"type":["chr"],"align":["left"]},{"label":["typecailloux_1"],"name":[39],"type":["chr"],"align":["left"]},{"label":["cailloux_1"],"name":[40],"type":["chr"],"align":["left"]},{"label":["infil_1"],"name":[41],"type":["chr"],"align":["left"]},{"label":["epd_1"],"name":[42],"type":["chr"],"align":["left"]},{"label":["epc_2"],"name":[43],"type":["chr"],"align":["left"]},{"label":["HCCF_2"],"name":[44],"type":["chr"],"align":["left"]},{"label":["HMINF_2"],"name":[45],"type":["chr"],"align":["left"]},{"label":["DAF_2"],"name":[46],"type":["chr"],"align":["left"]},{"label":["typecailloux_2"],"name":[47],"type":["chr"],"align":["left"]},{"label":["cailloux_2"],"name":[48],"type":["chr"],"align":["left"]},{"label":["infil_2"],"name":[49],"type":["chr"],"align":["left"]},{"label":["epd_2"],"name":[50],"type":["chr"],"align":["left"]},{"label":["epc_3"],"name":[51],"type":["chr"],"align":["left"]},{"label":["HCCF_3"],"name":[52],"type":["chr"],"align":["left"]},{"label":["HMINF_3"],"name":[53],"type":["chr"],"align":["left"]},{"label":["DAF_3"],"name":[54],"type":["chr"],"align":["left"]},{"label":["typecailloux_3"],"name":[55],"type":["chr"],"align":["left"]},{"label":["cailloux_3"],"name":[56],"type":["chr"],"align":["left"]},{"label":["infil_3"],"name":[57],"type":["chr"],"align":["left"]},{"label":["epd_3"],"name":[58],"type":["chr"],"align":["left"]},{"label":["epc_4"],"name":[59],"type":["chr"],"align":["left"]},{"label":["HCCF_4"],"name":[60],"type":["chr"],"align":["left"]},{"label":["HMINF_4"],"name":[61],"type":["chr"],"align":["left"]},{"label":["DAF_4"],"name":[62],"type":["chr"],"align":["left"]},{"label":["typecailloux_4"],"name":[63],"type":["chr"],"align":["left"]},{"label":["cailloux_4"],"name":[64],"type":["chr"],"align":["left"]},{"label":["infil_4"],"name":[65],"type":["chr"],"align":["left"]},{"label":["epd_4"],"name":[66],"type":["chr"],"align":["left"]},{"label":["epc_5"],"name":[67],"type":["chr"],"align":["left"]}],"data":[{"1":"USM_T1","2":"20.35","3":"0.1","4":"40","5":"0.52","6":"8.23","7":"0.2","8":"0.22","9":"9.63","10":"0","11":"200","12":"50","13":"0.5","14":"60","15":"5","16":"0.01","17":"0","18":"0.65","19":"0.33","20":"2","21":"1","22":"2","23":"2","24":"10","25":"0","26":"0","27":"0","28":"2","29":"1","30":"10","31":"2","32":"2","33":"20","34":"2","35":"30","36":"23.75","37":"10.69","38":"1.378","39":"1","40":"0","41":"50","42":"10","43":"30","44":"23.75","45":"10.69","46":"1.5","47":"1","48":"0","49":"50","50":"10","51":"30","52":"22.2","53":"9.99","54":"1.556","55":"1","56":"0","57":"50","58":"10","59":"30","60":"22.28","61":"10.02","62":"1.588","63":"1","64":"0","65":"50","66":"10","67":"0"},{"1":"LF1","2":"17","3":"1.9","4":"31","5":"0","6":"6.7","7":"0","8":"0.22","9":"9.36","10":"0","11":"155","12":"50","13":"0.5","14":"60","15":"5","16":"0.01","17":"0","18":"0.65","19":"0.33","20":"2","21":"2","22":"2","23":"2","24":"10","25":"0","26":"0","27":"0","28":"2","29":"1","30":"10","31":"2","32":"2","33":"20","34":"2","35":"30","36":"23.75642","37":"8.7169","38":"1.384","39":"1","40":"0","41":"50","42":"10","43":"15","44":"22.07603","45":"10.233","46":"1.6","47":"1","48":"0","49":"50","50":"10","51":"35","52":"21.91055","53":"11.6035","54":"1.61","55":"1","56":"0","57":"50","58":"10","59":"50","60":"22.11954","61":"10.78948","62":"1.59","63":"1","64":"0","65":"50","66":"10","67":"0"},{"1":"LF2","2":"17","3":"1.8","4":"27","5":"0","6":"6.7","7":"0","8":"0.22","9":"9.36","10":"0","11":"120","12":"50","13":"0.5","14":"60","15":"5","16":"0.01","17":"0","18":"0.65","19":"0.33","20":"2","21":"2","22":"2","23":"2","24":"10","25":"0","26":"0","27":"0","28":"2","29":"1","30":"10","31":"2","32":"2","33":"20","34":"2","35":"30","36":"23.55866","37":"8.63507","38":"1.388","39":"1","40":"0","41":"50","42":"10","43":"15","44":"22.07603","45":"10.233","46":"1.6","47":"1","48":"0","49":"50","50":"10","51":"35","52":"21.91055","53":"11.6035","54":"1.61","55":"1","56":"0","57":"50","58":"10","59":"50","60":"22.11954","61":"10.78948","62":"1.59","63":"1","64":"0","65":"50","66":"10","67":"0"},{"1":"LAP","2":"22","3":"2","4":"27","5":"0","6":"6.5","7":"0","8":"0.22","9":"9.76","10":"0","11":"60","12":"50","13":"0.5","14":"60","15":"5","16":"0.01","17":"0","18":"0.65","19":"0.33","20":"2","21":"2","22":"2","23":"2","24":"10","25":"0","26":"0","27":"0","28":"2","29":"1","30":"10","31":"2","32":"2","33":"20","34":"2","35":"25","36":"23.9972","37":"10.5145","38":"1.379","39":"1","40":"0","41":"50","42":"10","43":"25","44":"21.44407","45":"9.60248","46":"1.61","47":"1","48":"0","49":"50","50":"10","51":"20","52":"21.52376","53":"10.33508","54":"1.61","55":"1","56":"0","57":"50","58":"10","59":"80","60":"21.46918","61":"10.34594","62":"1.61","63":"1","64":"0","65":"50","66":"10","67":"0"},{"1":"LAS","2":"24.05","3":"2.5","4":"40","5":"30","6":"8","7":"0","8":"0.22","9":"9.928","10":"0","11":"200","12":"50","13":"0.5","14":"60","15":"5","16":"0.01","17":"0","18":"0.65","19":"0.33","20":"1","21":"2","22":"2","23":"2","24":"10","25":"0","26":"0","27":"0","28":"2","29":"1","30":"10","31":"2","32":"2","33":"20","34":"2","35":"30","36":"24.46466","37":"12.33346","38":"1.357","39":"1","40":"0","41":"50","42":"10","43":"65","44":"22.42365","45":"11.97536","46":"1.519","47":"1","48":"0","49":"50","50":"10","51":"55","52":"20.77105","53":"11.76273","54":"1.574","55":"1","56":"0","57":"50","58":"10","59":"0","60":"0","61":"0","62":"0","63":"1","64":"0","65":"50","66":"10","67":"0"},{"1":"LA0","2":"30.00675","3":"2.3","4":"30","5":"0.5","6":"7.5","7":"0","8":"0.22","9":"10.4","10":"0","11":"150","12":"50","13":"0.5","14":"60","15":"5","16":"0.01","17":"0","18":"0.65","19":"0.33","20":"2","21":"2","22":"2","23":"2","24":"10","25":"0","26":"0","27":"0","28":"2","29":"1","30":"10","31":"2","32":"2","33":"20","34":"2","35":"30","36":"24.72421","37":"13.701","38":"1.365","39":"1","40":"0","41":"50","42":"10","43":"50","44":"27.81205","45":"22.04558","46":"1.411","47":"1","48":"0","49":"50","50":"10","51":"50","52":"19.7482","53":"13.4294","54":"1.636","55":"1","56":"0","57":"50","58":"10","59":"0","60":"0","61":"0","62":"0","63":"1","64":"0","65":"50","66":"10","67":"0"},{"1":"LC0","2":"22.3875","3":"2","4":"50","5":"10","6":"7.9","7":"0.2","8":"0.22","9":"9.792","10":"0","11":"200","12":"50","13":"0.5","14":"60","15":"5","16":"0.01","17":"0","18":"0.65","19":"0.33","20":"2","21":"2","22":"2","23":"2","24":"10","25":"0","26":"0","27":"0","28":"2","29":"1","30":"10","31":"2","32":"2","33":"20","34":"2","35":"25","36":"24.74253","37":"10.79102","38":"1.379","39":"1","40":"0","41":"50","42":"10","43":"15","44":"22.29392","45":"8.76972","46":"1.586","47":"1","48":"0","49":"50","50":"10","51":"110","52":"22.04337","53":"8.03415","54":"1.601","55":"1","56":"0","57":"50","58":"10","59":"0","60":"0","61":"0","62":"0","63":"1","64":"0","65":"50","66":"10","67":"0"},{"1":"Vill09","2":"25","3":"0.101","4":"35","5":"0.4","6":"7.9","7":"0","8":"0.22","9":"10","10":"0","11":"200","12":"50","13":"0.5","14":"60","15":"5","16":"0.01","17":"0","18":"0.65","19":"0.33","20":"2","21":"2","22":"2","23":"2","24":"10","25":"0","26":"0","27":"0","28":"2","29":"1","30":"10","31":"2","32":"2","33":"20","34":"2","35":"30","36":"0","37":"0","38":"1.4","39":"1","40":"0","41":"50","42":"10","43":"30","44":"0","45":"0","46":"1.5","47":"1","48":"0","49":"50","50":"10","51":"30","52":"0","53":"0","54":"1.5","55":"1","56":"0","57":"50","58":"10","59":"0","60":"0","61":"0","62":"0","63":"1","64":"0","65":"50","66":"10","67":"0"},{"1":"Vill10","2":"14.3","3":"0.099","4":"50","5":"1.5","6":"8.2","7":"0","8":"0.22","9":"9.144","10":"0","11":"200","12":"50","13":"0.5","14":"60","15":"5","16":"0.01","17":"0","18":"0.65","19":"0.33","20":"2","21":"1","22":"1","23":"2","24":"10","25":"0","26":"0","27":"0","28":"2","29":"1","30":"15","31":"2","32":"2","33":"20","34":"2","35":"30","36":"0","37":"0","38":"1.4","39":"1","40":"0","41":"50","42":"10","43":"30","44":"0","45":"0","46":"1.5","47":"1","48":"0","49":"50","50":"10","51":"30","52":"0","53":"0","54":"1.5","55":"1","56":"0","57":"50","58":"10","59":"0","60":"0","61":"0","62":"0","63":"1","64":"0","65":"50","66":"10","67":"0"},{"1":"Vill11","2":"11.8","3":"0.1","4":"30","5":"0","6":"7.3","7":"0.05","8":"0.22","9":"8.944","10":"0","11":"90","12":"50","13":"0.5","14":"60","15":"5","16":"0.01","17":"0","18":"0.65","19":"0.33","20":"2","21":"2","22":"2","23":"2","24":"10","25":"0","26":"0","27":"0","28":"2","29":"1","30":"10","31":"2","32":"2","33":"20","34":"2","35":"30","36":"0","37":"0","38":"1.4","39":"1","40":"0","41":"50","42":"10","43":"30","44":"0","45":"0","46":"1.5","47":"1","48":"0","49":"50","50":"10","51":"30","52":"0","53":"0","54":"1.5","55":"1","56":"0","57":"50","58":"10","59":"0","60":"0","61":"0","62":"0","63":"1","64":"0","65":"50","66":"10","67":"0"},{"1":"Vill12","2":"14.3","3":"0.091","4":"30","5":"0.6","6":"8.3","7":"0.01","8":"0.22","9":"9.144","10":"0","11":"60","12":"50","13":"0.5","14":"60","15":"5","16":"0.01","17":"0","18":"0.65","19":"0.33","20":"2","21":"2","22":"2","23":"2","24":"10","25":"0","26":"0","27":"0","28":"2","29":"1","30":"10","31":"2","32":"2","33":"20","34":"2","35":"30","36":"0","37":"0","38":"1.4","39":"1","40":"0","41":"50","42":"10","43":"30","44":"0","45":"0","46":"1.5","47":"1","48":"0","49":"50","50":"10","51":"30","52":"0","53":"0","54":"1.5","55":"1","56":"0","57":"50","58":"10","59":"0","60":"0","61":"0","62":"0","63":"1","64":"0","65":"50","66":"10","67":"0"},{"1":"Vill13","2":"16.8","3":"0.088","4":"27","5":"0.2","6":"7.8","7":"0","8":"0.22","9":"9.344","10":"0","11":"200","12":"50","13":"0.5","14":"60","15":"5","16":"0.01","17":"0","18":"0.65","19":"0.33","20":"2","21":"2","22":"2","23":"2","24":"10","25":"0","26":"0","27":"0","28":"2","29":"1","30":"10","31":"2","32":"2","33":"20","34":"2","35":"30","36":"0","37":"0","38":"1.4","39":"1","40":"0","41":"50","42":"10","43":"30","44":"0","45":"0","46":"1.5","47":"1","48":"0","49":"50","50":"10","51":"30","52":"0","53":"0","54":"1.5","55":"1","56":"0","57":"50","58":"10","59":"0","60":"0","61":"0","62":"0","63":"1","64":"0","65":"50","66":"10","67":"0"},{"1":"Vill14","2":"15.1","3":"0.095","4":"22","5":"1.3","6":"7.9","7":"0","8":"0.22","9":"9.208","10":"0","11":"200","12":"50","13":"0.5","14":"60","15":"5","16":"0.01","17":"0","18":"0.65","19":"0.33","20":"2","21":"2","22":"2","23":"2","24":"10","25":"0","26":"0","27":"0","28":"2","29":"1","30":"10","31":"2","32":"2","33":"20","34":"2","35":"30","36":"0","37":"0","38":"1.4","39":"1","40":"0","41":"50","42":"10","43":"30","44":"0","45":"0","46":"1.5","47":"1","48":"0","49":"50","50":"10","51":"30","52":"0","53":"0","54":"1.5","55":"1","56":"0","57":"50","58":"10","59":"0","60":"0","61":"0","62":"0","63":"1","64":"0","65":"50","66":"10","67":"0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="generating-the-file-1" class="section level2">
<h2>Generating the file</h2>
<!-- Only for the show -->
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="co"># Output file path</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>out_file <span class="ot">&lt;-</span> <span class="st">&quot;/path/to/file/sols.xml&quot;</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="co"># or something like C:/path/to/file/usms.xml&quot; for Windows</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="co"># Generating a new sols.xml file, for all xl_param lines</span></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="fu">gen_sols_xml</span>(<span class="at">file =</span> out_file, <span class="at">param_df =</span> soils_param)</span></code></pre></div>
<!-- active chunk to be run -->
</div>
<div id="sols.xml-file-content" class="section level2">
<h2><code>sols.xml</code> file content</h2>
<p>Example of the first <code>sol</code> parameters sub-list:</p>
<pre><code>#&gt; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
#&gt; &lt;sols version=&quot;10.1.0&quot;&gt;
#&gt;   &lt;sol nom=&quot;USM_T1&quot;&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;60.0&quot; min=&quot;0.0&quot; nom=&quot;argi&quot;&gt;20.35&lt;/param&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;0.5&quot; min=&quot;0.05&quot; nom=&quot;norg&quot;&gt;0.1&lt;/param&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;60.0&quot; min=&quot;10.0&quot; nom=&quot;profhum&quot;&gt;40&lt;/param&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;100.0&quot; min=&quot;0.0&quot; nom=&quot;calc&quot;&gt;0.52&lt;/param&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;9.0&quot; min=&quot;4.0&quot; nom=&quot;pH&quot;&gt;8.23&lt;/param&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;0.5&quot; min=&quot;0.0&quot; nom=&quot;concseuil&quot;&gt;0.2&lt;/param&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;0.6&quot; min=&quot;0.05&quot; nom=&quot;albedo&quot;&gt;0.22&lt;/param&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;50.0&quot; min=&quot;0.0&quot; nom=&quot;q0&quot;&gt;9.63&lt;/param&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;1.0&quot; min=&quot;0.0&quot; nom=&quot;ruisolnu&quot;&gt;0&lt;/param&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;1000.0&quot; min=&quot;10.0&quot; nom=&quot;obstarac&quot;&gt;200&lt;/param&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;100.0&quot; min=&quot;5.0&quot; nom=&quot;pluiebat&quot;&gt;50&lt;/param&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;2.0&quot; min=&quot;0.0&quot; nom=&quot;mulchbat&quot;&gt;0.5&lt;/param&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;150.0&quot; min=&quot;10.0&quot; nom=&quot;zesx&quot;&gt;60&lt;/param&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;10.0&quot; min=&quot;-10.0&quot; nom=&quot;cfes&quot;&gt;5&lt;/param&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;0.2&quot; min=&quot;0.01&quot; nom=&quot;z0solnu&quot;&gt;0.01&lt;/param&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;20.0&quot; min=&quot;8.0&quot; nom=&quot;CsurNsol&quot;&gt;0&lt;/param&gt;
#&gt;     &lt;param nom=&quot;finert&quot;&gt;0.65&lt;/param&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;5.0&quot; min=&quot;0.0&quot; nom=&quot;penterui&quot;&gt;0.33&lt;/param&gt;
#&gt;     &lt;option choix=&quot;2&quot; nom=&quot;pebbles&quot; nomParam=&quot;codecailloux&quot;&gt;
#&gt;       &lt;choix code=&quot;1&quot; nom=&quot;yes&quot;/&gt;
#&gt;       &lt;choix code=&quot;2&quot; nom=&quot;no&quot;/&gt;
#&gt;     &lt;/option&gt;
#&gt;     &lt;option choix=&quot;1&quot; nom=&quot;macroporosity&quot; nomParam=&quot;codemacropor&quot;&gt;
#&gt;       &lt;choix code=&quot;1&quot; nom=&quot;yes&quot;/&gt;
#&gt;       &lt;choix code=&quot;2&quot; nom=&quot;no&quot;/&gt;
#&gt;     &lt;/option&gt;
#&gt;     &lt;option choix=&quot;2&quot; nom=&quot;cracks (case of swelling clay soils)&quot; nomParam=&quot;codefente&quot;&gt;
#&gt; ...
#&gt;     &lt;/tableau&gt;
#&gt; ...
#&gt; &lt;/sols&gt;</code></pre>
</div>
</div>
<div id="generating-multiple-crop-management-xml-files-_tec.xml" class="section level1">
<h1>Generating multiple crop management XML files
(<em>*_tec.xml</em>)</h1>
<div id="getting-data-2" class="section level2">
<h2>Getting data</h2>
<!-- Only for the show -->
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co"># Reading the Excel file</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>tec_param <span class="ot">&lt;-</span> <span class="fu">read_params_table</span>(usm_xl_file, <span class="at">sheet_name =</span> <span class="st">&quot;Tec&quot;</span>)</span></code></pre></div>
<!-- active chunk to be run -->
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Tec_name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["julres_1"],"name":[2],"type":["chr"],"align":["left"]},{"label":["coderes_1"],"name":[3],"type":["chr"],"align":["left"]},{"label":["qres_1"],"name":[4],"type":["chr"],"align":["left"]},{"label":["Crespc_1"],"name":[5],"type":["chr"],"align":["left"]},{"label":["CsurNres_1"],"name":[6],"type":["chr"],"align":["left"]},{"label":["Nminres_1"],"name":[7],"type":["chr"],"align":["left"]},{"label":["eaures_1"],"name":[8],"type":["chr"],"align":["left"]},{"label":["jultrav_1"],"name":[9],"type":["chr"],"align":["left"]},{"label":["profres_1"],"name":[10],"type":["chr"],"align":["left"]},{"label":["proftrav_1"],"name":[11],"type":["chr"],"align":["left"]},{"label":["iplt0"],"name":[12],"type":["chr"],"align":["left"]},{"label":["profsem"],"name":[13],"type":["chr"],"align":["left"]},{"label":["densitesem"],"name":[14],"type":["chr"],"align":["left"]},{"label":["variete"],"name":[15],"type":["chr"],"align":["left"]},{"label":["codestade"],"name":[16],"type":["chr"],"align":["left"]},{"label":["ilev"],"name":[17],"type":["chr"],"align":["left"]},{"label":["iamf"],"name":[18],"type":["chr"],"align":["left"]},{"label":["ilax"],"name":[19],"type":["chr"],"align":["left"]},{"label":["isen"],"name":[20],"type":["chr"],"align":["left"]},{"label":["ilan"],"name":[21],"type":["chr"],"align":["left"]},{"label":["iflo"],"name":[22],"type":["chr"],"align":["left"]},{"label":["idrp"],"name":[23],"type":["chr"],"align":["left"]},{"label":["imat"],"name":[24],"type":["chr"],"align":["left"]},{"label":["irec"],"name":[25],"type":["chr"],"align":["left"]},{"label":["irecbutoir"],"name":[26],"type":["chr"],"align":["left"]},{"label":["effirr"],"name":[27],"type":["chr"],"align":["left"]},{"label":["codecalirrig"],"name":[28],"type":["chr"],"align":["left"]},{"label":["codedateappH2O"],"name":[29],"type":["chr"],"align":["left"]},{"label":["julapI_1"],"name":[30],"type":["chr"],"align":["left"]},{"label":["doseI_1"],"name":[31],"type":["chr"],"align":["left"]},{"label":["julapI_2"],"name":[32],"type":["chr"],"align":["left"]},{"label":["doseI_2"],"name":[33],"type":["chr"],"align":["left"]},{"label":["julapI_3"],"name":[34],"type":["chr"],"align":["left"]},{"label":["doseI_3"],"name":[35],"type":["chr"],"align":["left"]},{"label":["julapI_4"],"name":[36],"type":["chr"],"align":["left"]},{"label":["doseI_4"],"name":[37],"type":["chr"],"align":["left"]},{"label":["julapI_5"],"name":[38],"type":["chr"],"align":["left"]},{"label":["doseI_5"],"name":[39],"type":["chr"],"align":["left"]},{"label":["julapI_6"],"name":[40],"type":["chr"],"align":["left"]},{"label":["doseI_6"],"name":[41],"type":["chr"],"align":["left"]},{"label":["julapI_7"],"name":[42],"type":["chr"],"align":["left"]},{"label":["doseI_7"],"name":[43],"type":["chr"],"align":["left"]},{"label":["julapI_8"],"name":[44],"type":["chr"],"align":["left"]},{"label":["doseI_8"],"name":[45],"type":["chr"],"align":["left"]},{"label":["julapI_9"],"name":[46],"type":["chr"],"align":["left"]},{"label":["doseI_9"],"name":[47],"type":["chr"],"align":["left"]},{"label":["julapI_10"],"name":[48],"type":["chr"],"align":["left"]},{"label":["doseI_10"],"name":[49],"type":["chr"],"align":["left"]},{"label":["julapI_11"],"name":[50],"type":["chr"],"align":["left"]},{"label":["doseI_11"],"name":[51],"type":["chr"],"align":["left"]},{"label":["julapI_12"],"name":[52],"type":["chr"],"align":["left"]},{"label":["doseI_12"],"name":[53],"type":["chr"],"align":["left"]},{"label":["codlocirrig"],"name":[54],"type":["chr"],"align":["left"]},{"label":["locirrig"],"name":[55],"type":["chr"],"align":["left"]},{"label":["profmes"],"name":[56],"type":["chr"],"align":["left"]},{"label":["concirr"],"name":[57],"type":["chr"],"align":["left"]},{"label":["codedateappN"],"name":[58],"type":["chr"],"align":["left"]},{"label":["codefracappN"],"name":[59],"type":["chr"],"align":["left"]},{"label":["Qtot_N"],"name":[60],"type":["chr"],"align":["left"]},{"label":["engrais_1"],"name":[61],"type":["chr"],"align":["left"]},{"label":["julapN_1"],"name":[62],"type":["chr"],"align":["left"]},{"label":["doseN_1"],"name":[63],"type":["chr"],"align":["left"]},{"label":["codlocferti"],"name":[64],"type":["chr"],"align":["left"]},{"label":["locferti"],"name":[65],"type":["chr"],"align":["left"]},{"label":["ressuite"],"name":[66],"type":["chr"],"align":["left"]},{"label":["codceuille"],"name":[67],"type":["chr"],"align":["left"]},{"label":["nbceuille"],"name":[68],"type":["chr"],"align":["left"]},{"label":["cadencerec"],"name":[69],"type":["chr"],"align":["left"]},{"label":["codrecolte"],"name":[70],"type":["chr"],"align":["left"]},{"label":["nbjmaxapresrecolte"],"name":[71],"type":["chr"],"align":["left"]},{"label":["codeffeuil"],"name":[72],"type":["chr"],"align":["left"]},{"label":["codhauteff"],"name":[73],"type":["chr"],"align":["left"]},{"label":["codcaleffeuil"],"name":[74],"type":["chr"],"align":["left"]},{"label":["laidebeff"],"name":[75],"type":["chr"],"align":["left"]},{"label":["effeuil"],"name":[76],"type":["chr"],"align":["left"]},{"label":["juleffeuil"],"name":[77],"type":["chr"],"align":["left"]},{"label":["laieffeuil"],"name":[78],"type":["chr"],"align":["left"]}],"data":[{"1":"USM_2017_T1_CI_tec.xml","2":"52","3":"1","4":"9","5":"42","6":"90","7":"0","8":"7","9":"__NA__","10":"__NA__","11":"__NA__","12":"199","13":"15","14":"100","15":"1","16":"1","17":"999","18":"999","19":"999","20":"999","21":"999","22":"999","23":"999","24":"999","25":"999","26":"999","27":"1","28":"2","29":"2","30":"__NA__","31":"__NA__","32":"__NA__","33":"__NA__","34":"__NA__","35":"__NA__","36":"__NA__","37":"__NA__","38":"__NA__","39":"__NA__","40":"__NA__","41":"__NA__","42":"__NA__","43":"__NA__","44":"__NA__","45":"__NA__","46":"__NA__","47":"__NA__","48":"__NA__","49":"__NA__","50":"__NA__","51":"__NA__","52":"__NA__","53":"__NA__","54":"1","55":"0","56":"120","57":"0","58":"2","59":"1","60":"__NA__","61":"__NA__","62":"__NA__","63":"__NA__","64":"2","65":"15","66":"straw+roots","67":"1","68":"1","69":"7","70":"1","71":"15","72":"1","73":"1","74":"1","75":"0","76":"0","77":"__NA__","78":"0"},{"1":"USM_2018_T1_tec.xml","2":"74","3":"1","4":"9","5":"42","6":"90","7":"0","8":"7","9":"__NA__","10":"__NA__","11":"__NA__","12":"199","13":"15","14":"100","15":"1","16":"1","17":"999","18":"999","19":"999","20":"999","21":"999","22":"999","23":"999","24":"999","25":"999","26":"999","27":"1","28":"2","29":"2","30":"__NA__","31":"__NA__","32":"__NA__","33":"__NA__","34":"__NA__","35":"__NA__","36":"__NA__","37":"__NA__","38":"__NA__","39":"__NA__","40":"__NA__","41":"__NA__","42":"__NA__","43":"__NA__","44":"__NA__","45":"__NA__","46":"__NA__","47":"__NA__","48":"__NA__","49":"__NA__","50":"__NA__","51":"__NA__","52":"__NA__","53":"__NA__","54":"1","55":"0","56":"120","57":"0","58":"2","59":"1","60":"__NA__","61":"__NA__","62":"__NA__","63":"__NA__","64":"2","65":"15","66":"straw+roots","67":"1","68":"1","69":"7","70":"1","71":"15","72":"1","73":"1","74":"1","75":"0","76":"0","77":"__NA__","78":"0"},{"1":"BIN_CAN_05_SEC_220-0-0_34K_CANPC05T3_Q_tec.xml","2":"110","3":"1","4":"9","5":"42","6":"90","7":"0","8":"7","9":"110","10":"5","11":"30","12":"143","13":"15","14":"3.4548725779064","15":"1","16":"1","17":"999","18":"999","19":"999","20":"999","21":"999","22":"999","23":"999","24":"999","25":"266","26":"999","27":"0.75","28":"2","29":"2","30":"__NA__","31":"__NA__","32":"__NA__","33":"__NA__","34":"__NA__","35":"__NA__","36":"__NA__","37":"__NA__","38":"__NA__","39":"__NA__","40":"__NA__","41":"__NA__","42":"__NA__","43":"__NA__","44":"__NA__","45":"__NA__","46":"__NA__","47":"__NA__","48":"__NA__","49":"__NA__","50":"__NA__","51":"__NA__","52":"__NA__","53":"__NA__","54":"1","55":"0","56":"120","57":"0","58":"2","59":"1","60":"220","61":"1","62":"143","63":"220","64":"2","65":"15","66":"straw+roots","67":"1","68":"1","69":"7","70":"1","71":"15","72":"1","73":"1","74":"1","75":"0","76":"0","77":"__NA__","78":"0"},{"1":"BIN_AGT_04_IRR_220-0-0_33K_AGT04T2_Q_tec.xml","2":"73","3":"1","4":"9","5":"42","6":"90","7":"0","8":"7","9":"73","10":"5","11":"30","12":"103","13":"15","14":"3.33669926140668","15":"1","16":"1","17":"999","18":"999","19":"999","20":"999","21":"999","22":"999","23":"999","24":"999","25":"254","26":"999","27":"0.75","28":"2","29":"2","30":"156","31":"25","32":"164","33":"25","34":"172","35":"25","36":"180","37":"25","38":"185","39":"25","40":"__NA__","41":"__NA__","42":"__NA__","43":"__NA__","44":"__NA__","45":"__NA__","46":"__NA__","47":"__NA__","48":"__NA__","49":"__NA__","50":"__NA__","51":"__NA__","52":"__NA__","53":"__NA__","54":"1","55":"0","56":"120","57":"0","58":"2","59":"1","60":"220","61":"1","62":"143","63":"220","64":"2","65":"15","66":"straw+roots","67":"1","68":"1","69":"7","70":"1","71":"15","72":"1","73":"1","74":"1","75":"0","76":"0","77":"__NA__","78":"0"},{"1":"AGA_ARB_13_IRR_220-0-0_37K_ARB13_C_tec.xml","2":"82","3":"1","4":"9","5":"42","6":"90","7":"0","8":"7","9":"82","10":"5","11":"30","12":"112","13":"15","14":"3.7","15":"1","16":"1","17":"999","18":"999","19":"999","20":"999","21":"999","22":"999","23":"999","24":"999","25":"262","26":"999","27":"0.75","28":"2","29":"2","30":"182","31":"23.5","32":"182","33":"23.5","34":"188","35":"20","36":"193","37":"30","38":"193","39":"30","40":"199","41":"30","42":"203","43":"34","44":"203","45":"34","46":"216","47":"35","48":"225","49":"17","50":"225","51":"17","52":"244","53":"20","54":"1","55":"0","56":"120","57":"0","58":"2","59":"1","60":"220","61":"1","62":"143","63":"220","64":"2","65":"15","66":"straw+roots","67":"1","68":"1","69":"7","70":"1","71":"15","72":"1","73":"1","74":"1","75":"0","76":"0","77":"__NA__","78":"0"},{"1":"AGA_ARB_13_SEC_220-0-0_37K_ARB13_C_tec.xml","2":"82","3":"1","4":"9","5":"42","6":"90","7":"0","8":"7","9":"82","10":"5","11":"30","12":"112","13":"15","14":"3.7","15":"1","16":"1","17":"999","18":"999","19":"999","20":"999","21":"999","22":"999","23":"999","24":"999","25":"262","26":"999","27":"0.75","28":"2","29":"2","30":"__NA__","31":"__NA__","32":"__NA__","33":"__NA__","34":"__NA__","35":"__NA__","36":"__NA__","37":"__NA__","38":"__NA__","39":"__NA__","40":"__NA__","41":"__NA__","42":"__NA__","43":"__NA__","44":"__NA__","45":"__NA__","46":"__NA__","47":"__NA__","48":"__NA__","49":"__NA__","50":"__NA__","51":"__NA__","52":"__NA__","53":"__NA__","54":"1","55":"0","56":"120","57":"0","58":"2","59":"1","60":"220","61":"1","62":"143","63":"220","64":"2","65":"15","66":"straw+roots","67":"1","68":"1","69":"7","70":"1","71":"15","72":"1","73":"1","74":"1","75":"0","76":"0","77":"__NA__","78":"0"},{"1":"FRA_ARB_11_SEC_220-0-0_38K_E_tec.xml","2":"70","3":"1","4":"9","5":"42","6":"90","7":"0","8":"7","9":"70","10":"5","11":"30","12":"100","13":"15","14":"3.85","15":"1","16":"1","17":"999","18":"999","19":"999","20":"999","21":"999","22":"999","23":"999","24":"999","25":"245","26":"999","27":"0.75","28":"2","29":"2","30":"__NA__","31":"__NA__","32":"__NA__","33":"__NA__","34":"__NA__","35":"__NA__","36":"__NA__","37":"__NA__","38":"__NA__","39":"__NA__","40":"__NA__","41":"__NA__","42":"__NA__","43":"__NA__","44":"__NA__","45":"__NA__","46":"__NA__","47":"__NA__","48":"__NA__","49":"__NA__","50":"__NA__","51":"__NA__","52":"__NA__","53":"__NA__","54":"1","55":"0","56":"120","57":"0","58":"2","59":"1","60":"220","61":"1","62":"143","63":"220","64":"2","65":"15","66":"straw+roots","67":"1","68":"1","69":"7","70":"1","71":"15","72":"1","73":"1","74":"1","75":"0","76":"0","77":"__NA__","78":"0"},{"1":"MAG_ARB_09_SEC_220-0-0_38K_E_tec.xml","2":"81","3":"1","4":"9","5":"42","6":"90","7":"0","8":"7","9":"81","10":"5","11":"30","12":"111","13":"15","14":"3.85","15":"1","16":"1","17":"999","18":"999","19":"999","20":"999","21":"999","22":"999","23":"999","24":"999","25":"248","26":"999","27":"0.75","28":"2","29":"2","30":"__NA__","31":"__NA__","32":"__NA__","33":"__NA__","34":"__NA__","35":"__NA__","36":"__NA__","37":"__NA__","38":"__NA__","39":"__NA__","40":"__NA__","41":"__NA__","42":"__NA__","43":"__NA__","44":"__NA__","45":"__NA__","46":"__NA__","47":"__NA__","48":"__NA__","49":"__NA__","50":"__NA__","51":"__NA__","52":"__NA__","53":"__NA__","54":"1","55":"0","56":"120","57":"0","58":"2","59":"1","60":"220","61":"1","62":"143","63":"220","64":"2","65":"15","66":"straw+roots","67":"1","68":"1","69":"7","70":"1","71":"15","72":"1","73":"1","74":"1","75":"0","76":"0","77":"__NA__","78":"0"},{"1":"MAG_ARV_12_IRR_220-0-0_36K_ARV12_C_tec.xml","2":"100","3":"1","4":"9","5":"42","6":"90","7":"0","8":"7","9":"100","10":"5","11":"30","12":"130","13":"15","14":"3.68","15":"1","16":"1","17":"999","18":"999","19":"999","20":"999","21":"999","22":"999","23":"999","24":"999","25":"259","26":"999","27":"0.75","28":"2","29":"2","30":"203","31":"20","32":"223","33":"20","34":"__NA__","35":"__NA__","36":"__NA__","37":"__NA__","38":"__NA__","39":"__NA__","40":"__NA__","41":"__NA__","42":"__NA__","43":"__NA__","44":"__NA__","45":"__NA__","46":"__NA__","47":"__NA__","48":"__NA__","49":"__NA__","50":"__NA__","51":"__NA__","52":"__NA__","53":"__NA__","54":"1","55":"0","56":"120","57":"0","58":"2","59":"1","60":"220","61":"1","62":"143","63":"220","64":"2","65":"15","66":"straw+roots","67":"1","68":"1","69":"7","70":"1","71":"15","72":"1","73":"1","74":"1","75":"0","76":"0","77":"__NA__","78":"0"},{"1":"MAG_ARV_12_SEC_220-0-0_36K_ARV12_C_tec.xml","2":"100","3":"1","4":"9","5":"42","6":"90","7":"0","8":"7","9":"100","10":"5","11":"30","12":"130","13":"15","14":"3.68","15":"1","16":"1","17":"999","18":"999","19":"999","20":"999","21":"999","22":"999","23":"999","24":"999","25":"259","26":"999","27":"0.75","28":"2","29":"2","30":"__NA__","31":"__NA__","32":"__NA__","33":"__NA__","34":"__NA__","35":"__NA__","36":"__NA__","37":"__NA__","38":"__NA__","39":"__NA__","40":"__NA__","41":"__NA__","42":"__NA__","43":"__NA__","44":"__NA__","45":"__NA__","46":"__NA__","47":"__NA__","48":"__NA__","49":"__NA__","50":"__NA__","51":"__NA__","52":"__NA__","53":"__NA__","54":"1","55":"0","56":"120","57":"0","58":"2","59":"1","60":"220","61":"1","62":"143","63":"220","64":"2","65":"15","66":"straw+roots","67":"1","68":"1","69":"7","70":"1","71":"15","72":"1","73":"1","74":"1","75":"0","76":"0","77":"__NA__","78":"0"},{"1":"FRA_ARB_12_SEC_220-0-0_31K_ARB12_C_tec.xml","2":"92","3":"1","4":"9","5":"42","6":"90","7":"0","8":"7","9":"92","10":"5","11":"30","12":"122","13":"15","14":"3.185","15":"1","16":"1","17":"999","18":"999","19":"999","20":"999","21":"999","22":"999","23":"999","24":"999","25":"245","26":"999","27":"1","28":"2","29":"2","30":"__NA__","31":"__NA__","32":"__NA__","33":"__NA__","34":"__NA__","35":"__NA__","36":"__NA__","37":"__NA__","38":"__NA__","39":"__NA__","40":"__NA__","41":"__NA__","42":"__NA__","43":"__NA__","44":"__NA__","45":"__NA__","46":"__NA__","47":"__NA__","48":"__NA__","49":"__NA__","50":"__NA__","51":"__NA__","52":"__NA__","53":"__NA__","54":"1","55":"0","56":"120","57":"0","58":"2","59":"1","60":"220","61":"1","62":"143","63":"220","64":"2","65":"15","66":"straw+roots","67":"1","68":"1","69":"7","70":"1","71":"15","72":"1","73":"1","74":"1","75":"0","76":"0","77":"__NA__","78":"0"},{"1":"FRA_ARB_13_SEC_220-0-0_37K_ARB13_C_tec.xml","2":"0","3":"1","4":"9","5":"42","6":"90","7":"0","8":"7","9":"0","10":"5","11":"30","12":"112","13":"15","14":"3.7","15":"1","16":"1","17":"999","18":"999","19":"999","20":"999","21":"999","22":"999","23":"999","24":"999","25":"262","26":"999","27":"1","28":"2","29":"2","30":"__NA__","31":"__NA__","32":"__NA__","33":"__NA__","34":"__NA__","35":"__NA__","36":"__NA__","37":"__NA__","38":"__NA__","39":"__NA__","40":"__NA__","41":"__NA__","42":"__NA__","43":"__NA__","44":"__NA__","45":"__NA__","46":"__NA__","47":"__NA__","48":"__NA__","49":"__NA__","50":"__NA__","51":"__NA__","52":"__NA__","53":"__NA__","54":"1","55":"0","56":"120","57":"0","58":"2","59":"1","60":"220","61":"1","62":"143","63":"220","64":"2","65":"15","66":"straw+roots","67":"1","68":"1","69":"7","70":"1","71":"15","72":"1","73":"1","74":"1","75":"0","76":"0","77":"__NA__","78":"0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="generating-files" class="section level2">
<h2>Generating files</h2>
<!-- Only for the show -->
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="co"># *_tec.xml files, one for each xl_param line</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="fu">gen_tec_xml</span>(<span class="at">param_df =</span> tec_param, <span class="at">out_dir =</span> workspace_path)</span></code></pre></div>
<!-- active chunk to be run -->
<p>Example of a <code>tec</code> parameters file content sub-list:</p>
<pre><code>#&gt; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;
#&gt; &lt;fichiertec version=&quot;10.1.0&quot;&gt;
#&gt;   &lt;formalisme nom=&quot;supply of organic residus&quot;&gt;
#&gt;     &lt;ta nb_interventions=&quot;1&quot; nom=&quot;interventions&quot;&gt;
#&gt;       &lt;ta_entete nb_colonnes=&quot;7&quot;&gt;
#&gt;         &lt;colonne nom=&quot;julres&quot;/&gt;
#&gt;         &lt;colonne nom=&quot;coderes&quot;/&gt;
#&gt;         &lt;colonne nom=&quot;qres&quot;/&gt;
#&gt;         &lt;colonne nom=&quot;Crespc&quot;/&gt;
#&gt;         &lt;colonne nom=&quot;CsurNres&quot;/&gt;
#&gt;         &lt;colonne nom=&quot;Nminres&quot;/&gt;
#&gt;         &lt;colonne nom=&quot;eaures&quot;/&gt;
#&gt;       &lt;/ta_entete&gt;
#&gt;       &lt;intervention nb_colonnes=&quot;7&quot;&gt;
#&gt;         &lt;colonne nom=&quot;julres&quot;&gt;110&lt;/colonne&gt;
#&gt;         &lt;colonne nom=&quot;coderes&quot;&gt;1&lt;/colonne&gt;
#&gt;         &lt;colonne nom=&quot;qres&quot;&gt;9&lt;/colonne&gt;
#&gt;         &lt;colonne nom=&quot;Crespc&quot;&gt;42&lt;/colonne&gt;
#&gt;         &lt;colonne nom=&quot;CsurNres&quot;&gt;90&lt;/colonne&gt;
#&gt;         &lt;colonne nom=&quot;Nminres&quot;&gt;0&lt;/colonne&gt;
#&gt;         &lt;colonne nom=&quot;eaures&quot;&gt;7&lt;/colonne&gt;
#&gt;       &lt;/intervention&gt;
#&gt;     &lt;/ta&gt;
#&gt;   &lt;/formalisme&gt;
#&gt;   &lt;formalisme nom=&quot;soil tillage&quot;&gt;
#&gt;     &lt;option choix=&quot;2&quot; nom=&quot;Automatic calculation of the depth of residues incorporation in function of proftrav&quot; nomParam=&quot;code_auto_profres&quot;&gt;
#&gt;       &lt;choix code=&quot;1&quot; nom=&quot;yes&quot;&gt;
#&gt;         &lt;param format=&quot;real&quot; max=&quot;0.0&quot; min=&quot;1.0&quot; nom=&quot;resk&quot;&gt;-999&lt;/param&gt;
#&gt;         &lt;param format=&quot;real&quot; max=&quot;0.0&quot; min=&quot;10.0&quot; nom=&quot;resz&quot;&gt;-999&lt;/param&gt;
#&gt;       &lt;/choix&gt;
#&gt; ...
#&gt; &lt;/fichiertec&gt;</code></pre>
</div>
</div>
<div id="generating-multiple-initialization-xml-files-_ini.xml" class="section level1">
<h1>Generating multiple initialization XML files
(<em>*_ini.xml</em>)</h1>
<div id="getting-data-3" class="section level2">
<h2>Getting data</h2>
<!-- Only for the show -->
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="co"># Reading the Excel file</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>ini_param <span class="ot">&lt;-</span> <span class="fu">read_params_table</span>(usm_xl_file, <span class="at">sheet_name =</span> <span class="st">&quot;Ini&quot;</span>)</span></code></pre></div>
<!-- active chunk to be run -->
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Ini_name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["nbplantes"],"name":[2],"type":["chr"],"align":["left"]},{"label":["stade0_Crop1"],"name":[3],"type":["chr"],"align":["left"]},{"label":["lai0_Crop1"],"name":[4],"type":["chr"],"align":["left"]},{"label":["magrain0_Crop1"],"name":[5],"type":["chr"],"align":["left"]},{"label":["zrac0_Crop1"],"name":[6],"type":["chr"],"align":["left"]},{"label":["code_acti_reserve_Crop1"],"name":[7],"type":["chr"],"align":["left"]},{"label":["masec0_Crop1"],"name":[8],"type":["chr"],"align":["left"]},{"label":["QNplante0_Crop1"],"name":[9],"type":["chr"],"align":["left"]},{"label":["restemp0_Crop1"],"name":[10],"type":["chr"],"align":["left"]},{"label":["densinitial_1_Crop1"],"name":[11],"type":["chr"],"align":["left"]},{"label":["densinitial_2_Crop1"],"name":[12],"type":["chr"],"align":["left"]},{"label":["densinitial_3_Crop1"],"name":[13],"type":["chr"],"align":["left"]},{"label":["densinitial_4_Crop1"],"name":[14],"type":["chr"],"align":["left"]},{"label":["densinitial_5_Crop1"],"name":[15],"type":["chr"],"align":["left"]},{"label":["Hinitf_1"],"name":[16],"type":["chr"],"align":["left"]},{"label":["Hinitf_2"],"name":[17],"type":["chr"],"align":["left"]},{"label":["Hinitf_3"],"name":[18],"type":["chr"],"align":["left"]},{"label":["Hinitf_4"],"name":[19],"type":["chr"],"align":["left"]},{"label":["Hinitf_5"],"name":[20],"type":["chr"],"align":["left"]},{"label":["NO3initf_1"],"name":[21],"type":["chr"],"align":["left"]},{"label":["NO3initf_2"],"name":[22],"type":["chr"],"align":["left"]},{"label":["NO3initf_3"],"name":[23],"type":["chr"],"align":["left"]},{"label":["NO3initf_4"],"name":[24],"type":["chr"],"align":["left"]},{"label":["NO3initf_5"],"name":[25],"type":["chr"],"align":["left"]},{"label":["NH4initf_1"],"name":[26],"type":["chr"],"align":["left"]},{"label":["NH4initf_2"],"name":[27],"type":["chr"],"align":["left"]},{"label":["NH4initf_3"],"name":[28],"type":["chr"],"align":["left"]},{"label":["NH4initf_4"],"name":[29],"type":["chr"],"align":["left"]},{"label":["NH4initf_5"],"name":[30],"type":["chr"],"align":["left"]}],"data":[{"1":"USM_2017_T1_ini.xml","2":"1","3":"snu","4":"0","5":"0","6":"0","7":"2","8":"0","9":"0","10":"0","11":"0","12":"0","13":"0","14":"0","15":"0","16":"12.2498236911716","17":"11.4051209137012","18":"12.403574703501","19":"14.0741405718364","20":"12.5736108922922","21":"43.322","22":"6.1706","23":"2.0362","24":"1.1692","25":"2.031","26":"2.5564","27":"2.1078","28":"1.3432","29":"1.0428","30":"1.0587"},{"1":"Vill09_ini.xml","2":"1","3":"snu","4":"0","5":"0","6":"0","7":"2","8":"0","9":"0","10":"0","11":"0","12":"0","13":"0","14":"0","15":"0","16":"20.5","17":"20.4","18":"21.2","19":"0","20":"0","21":"38.1","22":"27.1","23":"23.8","24":"0","25":"0","26":"1.8","27":"1.8","28":"0.7","29":"0","30":"0"},{"1":"Vill10_ini.xml","2":"1","3":"snu","4":"0","5":"0","6":"0","7":"2","8":"0","9":"0","10":"0","11":"0","12":"0","13":"0","14":"0","15":"0","16":"26","17":"21.7","18":"22.4","19":"0","20":"0","21":"3.8","22":"13.3","23":"11","24":"0","25":"0","26":"4.9","27":"1.3","28":"0.7","29":"0","30":"0"},{"1":"Vill11_ini.xml","2":"1","3":"snu","4":"0","5":"0","6":"0","7":"2","8":"0","9":"0","10":"0","11":"0","12":"0","13":"0","14":"0","15":"0","16":"0","17":"0","18":"0","19":"0","20":"0","21":"20","22":"20","23":"15","24":"0","25":"0","26":"10","27":"10","28":"4","29":"0","30":"0"},{"1":"Vill12_ini.xml","2":"1","3":"snu","4":"0","5":"0","6":"0","7":"2","8":"0","9":"0","10":"0","11":"0","12":"0","13":"0","14":"0","15":"0","16":"25.1","17":"22.9","18":"22.4","19":"0","20":"0","21":"22","22":"12.2","23":"8.4","24":"0","25":"0","26":"2.5","27":"1.9","28":"1.5","29":"0","30":"0"},{"1":"Vill13_ini.xml","2":"1","3":"snu","4":"0","5":"0","6":"0","7":"2","8":"0","9":"0","10":"0","11":"0","12":"0","13":"0","14":"0","15":"0","16":"21","17":"19.5","18":"20","19":"0","20":"0","21":"46.2","22":"55.5","23":"26.8","24":"0","25":"0","26":"35.5","27":"50.3","28":"16.5","29":"0","30":"0"},{"1":"Vill14_ini.xml","2":"1","3":"snu","4":"0","5":"0","6":"0","7":"2","8":"0","9":"0","10":"0","11":"0","12":"0","13":"0","14":"0","15":"0","16":"22.7","17":"21.1","18":"21.6","19":"0","20":"0","21":"23.1","22":"22.3","23":"12.9","24":"0","25":"0","26":"11.7","27":"4","28":"1.5","29":"0","30":"0"},{"1":"Standard_ini.xml","2":"1","3":"snu","4":"0","5":"0","6":"0","7":"2","8":"0","9":"0","10":"0","11":"0","12":"0","13":"0","14":"0","15":"0","16":"0","17":"0","18":"0","19":"0","20":"0","21":"20","22":"20","23":"15","24":"0","25":"0","26":"10","27":"10","28":"4","29":"0","30":"0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="generating-files-1" class="section level2">
<h2>Generating files</h2>
<!-- Only for the show -->
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="co"># *_ini.xml files, one for each xl_param line</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="fu">gen_ini_xml</span>(<span class="at">param_df =</span> ini_param, <span class="at">out_dir =</span> workspace_path)</span></code></pre></div>
<!-- active chunk to be run -->
</div>
<div id="xml-file-content" class="section level2">
<h2>XML file content</h2>
<p>Example of a <code>ini</code> parameters file content sub-list:</p>
<pre><code>#&gt; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
#&gt; &lt;initialisations version=&quot;10.1.0&quot;&gt;
#&gt;   &lt;nbplantes&gt;1&lt;/nbplantes&gt;
#&gt;   &lt;plante dominance=&quot;1&quot;&gt;
#&gt;     &lt;stade0&gt;snu&lt;/stade0&gt;
#&gt;     &lt;lai0&gt;0&lt;/lai0&gt;
#&gt;     &lt;magrain0&gt;0&lt;/magrain0&gt;
#&gt;     &lt;zrac0&gt;0&lt;/zrac0&gt;
#&gt;     &lt;option choix=&quot;2&quot; nom=&quot;Simulation of Nitrogen and Carbon reserves&quot; nomParam=&quot;code_acti_reserve&quot;&gt;
#&gt;       &lt;choix code=&quot;1&quot; nom=&quot;yes&quot;&gt;
#&gt;         &lt;maperenne0&gt;0&lt;/maperenne0&gt;
#&gt;         &lt;QNperenne0&gt;0&lt;/QNperenne0&gt;
#&gt;         &lt;masecnp0&gt;0&lt;/masecnp0&gt;
#&gt;         &lt;QNplantenp0&gt;0&lt;/QNplantenp0&gt;
#&gt;       &lt;/choix&gt;
#&gt;       &lt;choix code=&quot;2&quot; nom=&quot;no&quot;&gt;
#&gt;         &lt;masec0&gt;0&lt;/masec0&gt;
#&gt;         &lt;QNplante0&gt;0&lt;/QNplante0&gt;
#&gt;         &lt;restemp0&gt;0&lt;/restemp0&gt;
#&gt; ...
#&gt; &lt;/initialisations&gt;</code></pre>
</div>
</div>
<div id="generating-multiple-meteorological-station-xml-files-_sta.xml" class="section level1">
<h1>Generating multiple meteorological station XML files
(<em>*_sta.xml</em>)</h1>
<div id="getting-data-4" class="section level2">
<h2>Getting data</h2>
<!-- Only for the show -->
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="co"># Reading the Excel file</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>sta_param <span class="ot">&lt;-</span> <span class="fu">read_params_table</span>(usm_xl_file, <span class="at">sheet_name =</span> <span class="st">&quot;Station&quot;</span>)</span></code></pre></div>
<!-- active chunk to be run -->
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Sta_name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["zr"],"name":[2],"type":["chr"],"align":["left"]},{"label":["NH3ref"],"name":[3],"type":["chr"],"align":["left"]},{"label":["latitude"],"name":[4],"type":["chr"],"align":["left"]},{"label":["patm"],"name":[5],"type":["chr"],"align":["left"]},{"label":["aclim"],"name":[6],"type":["chr"],"align":["left"]},{"label":["codeetp"],"name":[7],"type":["chr"],"align":["left"]},{"label":["alphapt"],"name":[8],"type":["chr"],"align":["left"]},{"label":["codeclichange"],"name":[9],"type":["chr"],"align":["left"]},{"label":["codaltitude"],"name":[10],"type":["chr"],"align":["left"]},{"label":["altistation"],"name":[11],"type":["chr"],"align":["left"]},{"label":["altisimul"],"name":[12],"type":["chr"],"align":["left"]},{"label":["gradtn"],"name":[13],"type":["chr"],"align":["left"]},{"label":["gradtx"],"name":[14],"type":["chr"],"align":["left"]},{"label":["altinversion"],"name":[15],"type":["chr"],"align":["left"]},{"label":["gradtninv"],"name":[16],"type":["chr"],"align":["left"]},{"label":["cielclair"],"name":[17],"type":["chr"],"align":["left"]},{"label":["codadret"],"name":[18],"type":["chr"],"align":["left"]},{"label":["ombragetx"],"name":[19],"type":["chr"],"align":["left"]},{"label":["ra"],"name":[20],"type":["chr"],"align":["left"]},{"label":["albveg"],"name":[21],"type":["chr"],"align":["left"]},{"label":["aangst"],"name":[22],"type":["chr"],"align":["left"]},{"label":["bangst"],"name":[23],"type":["chr"],"align":["left"]},{"label":["corecTrosee"],"name":[24],"type":["chr"],"align":["left"]},{"label":["codecaltemp"],"name":[25],"type":["chr"],"align":["left"]},{"label":["codernet"],"name":[26],"type":["chr"],"align":["left"]},{"label":["coefdevil"],"name":[27],"type":["chr"],"align":["left"]},{"label":["aks"],"name":[28],"type":["chr"],"align":["left"]},{"label":["bks"],"name":[29],"type":["chr"],"align":["left"]},{"label":["cvent"],"name":[30],"type":["chr"],"align":["left"]},{"label":["phiv0"],"name":[31],"type":["chr"],"align":["left"]},{"label":["coefrnet"],"name":[32],"type":["chr"],"align":["left"]},{"label":["tsmax"],"name":[33],"type":["chr"],"align":["left"]},{"label":["trmax"],"name":[34],"type":["chr"],"align":["left"]},{"label":["DKmax"],"name":[35],"type":["chr"],"align":["left"]},{"label":["Kmin"],"name":[36],"type":["chr"],"align":["left"]},{"label":["Tmf"],"name":[37],"type":["chr"],"align":["left"]},{"label":["SWrf"],"name":[38],"type":["chr"],"align":["left"]},{"label":["Pns"],"name":[39],"type":["chr"],"align":["left"]},{"label":["E"],"name":[40],"type":["chr"],"align":["left"]},{"label":["prof"],"name":[41],"type":["chr"],"align":["left"]},{"label":["tminseuil"],"name":[42],"type":["chr"],"align":["left"]},{"label":["tmaxseuil"],"name":[43],"type":["chr"],"align":["left"]}],"data":[{"1":"climatex_sta.xml","2":"2.5","3":"0","4":"49","5":"1000","6":"20","7":"1","8":"1.25","9":"1","10":"1","11":"440","12":"800","13":"-0.5","14":"-0.55","15":"500","16":"1.3","17":"0.8","18":"1","19":"-1.4","20":"50","21":"0.23","22":"0.18","23":"0.62","24":"1","25":"1","26":"2","27":"0.7","28":"6","29":"0.5","30":"0.16","31":"0.004","32":"0.59","33":"-1.99","34":"1","35":"1.49","36":"2","37":"0.49","38":"0.01","39":"99.9","40":"0.02","41":"9.99","42":"-0.6","43":"0.1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="generating-files-2" class="section level2">
<h2>Generating files</h2>
<!-- Only for the show -->
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="co"># *_sta.xml files, one for each xl_param line</span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="fu">gen_sta_xml</span>(<span class="at">param_df =</span> sta_param, <span class="at">out_dir =</span> workspace_path)</span></code></pre></div>
<!-- active chunk to be run -->
</div>
<div id="xml-file-content-1" class="section level2">
<h2>XML file content</h2>
<p>Example of a <code>sta</code> parameters file content sub-list:</p>
<pre><code>#&gt; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;
#&gt; &lt;fichiersta version=&quot;10.1.0&quot;&gt;
#&gt;   &lt;formalisme nom=&quot;Weather station&quot;&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;10.0&quot; min=&quot;2.0&quot; nom=&quot;zr&quot;&gt;2.5&lt;/param&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;10.0&quot; min=&quot;0.0&quot; nom=&quot;NH3ref&quot;&gt;0&lt;/param&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;3.0&quot; min=&quot;0.0&quot; nom=&quot;concrr&quot;/&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;90.0&quot; min=&quot;-90.0&quot; nom=&quot;latitude&quot;&gt;49&lt;/param&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;1200.0&quot; min=&quot;800.0&quot; nom=&quot;patm&quot;&gt;1000&lt;/param&gt;
#&gt;     &lt;param format=&quot;real&quot; max=&quot;25.0&quot; min=&quot;4.0&quot; nom=&quot;aclim&quot;&gt;20&lt;/param&gt;
#&gt;   &lt;/formalisme&gt;
#&gt;   &lt;formalisme nom=&quot;climate&quot;&gt;
#&gt;     &lt;option choix=&quot;1&quot; nom=&quot;reading OR calculation of PET&quot; nomParam=&quot;codeetp&quot;&gt;
#&gt;       &lt;choix code=&quot;1&quot; nom=&quot;PET-Penman_reading&quot;/&gt;
#&gt;       &lt;choix code=&quot;2&quot; nom=&quot;PET-Penman_calculation&quot;/&gt;
#&gt;       &lt;choix code=&quot;3&quot; nom=&quot;PET-Shuttleworth-Wallace_calculation&quot;/&gt;
#&gt;       &lt;choix code=&quot;4&quot; nom=&quot;PET-Priestley-Taylor_calculation&quot;&gt;
#&gt;         &lt;param format=&quot;real&quot; max=&quot;2.0&quot; min=&quot;1.0&quot; nom=&quot;alphapt&quot;&gt;1.25&lt;/param&gt;
#&gt;       &lt;/choix&gt;
#&gt;     &lt;/option&gt;
#&gt;     &lt;option choix=&quot;1&quot; nom=&quot;climate change&quot; nomParam=&quot;codeclichange&quot;&gt;
#&gt;       &lt;choix code=&quot;1&quot; nom=&quot;no&quot;/&gt;
#&gt;       &lt;choix code=&quot;2&quot; nom=&quot;yes&quot;/&gt;
#&gt;     &lt;/option&gt;
#&gt;     &lt;option choix=&quot;1&quot; nom=&quot;climate in altitude&quot; nomParam=&quot;codaltitude&quot;&gt;
#&gt;       &lt;choix code=&quot;1&quot; nom=&quot;no&quot;/&gt;
#&gt;       &lt;choix code=&quot;2&quot; nom=&quot;yes&quot;&gt;
#&gt;         &lt;param format=&quot;real&quot; max=&quot;2000.0&quot; min=&quot;0.0&quot; nom=&quot;altistation&quot;&gt;440&lt;/param&gt;
#&gt;         &lt;param format=&quot;real&quot; max=&quot;2000.0&quot; min=&quot;0.0&quot; nom=&quot;altisimul&quot;&gt;800&lt;/param&gt;
#&gt;         &lt;param format=&quot;real&quot; max=&quot;3.0&quot; min=&quot;0.1&quot; nom=&quot;gradtn&quot;&gt;-0.5&lt;/param&gt;
#&gt;         &lt;param format=&quot;real&quot; max=&quot;3.0&quot; min=&quot;0.1&quot; nom=&quot;gradtx&quot;&gt;-0.55&lt;/param&gt;
#&gt;         &lt;param format=&quot;real&quot; max=&quot;2000.0&quot; min=&quot;0.0&quot; nom=&quot;altinversion&quot;&gt;500&lt;/param&gt;
#&gt;         &lt;param format=&quot;real&quot; max=&quot;3.0&quot; min=&quot;0.1&quot; nom=&quot;gradtninv&quot;&gt;1.3&lt;/param&gt;
#&gt;         &lt;param format=&quot;real&quot; max=&quot;1.0&quot; min=&quot;0.0&quot; nom=&quot;cielclair&quot;&gt;0.8&lt;/param&gt;
#&gt;         &lt;option choix=&quot;1&quot; nom=&quot;option.adret.or.ubac&quot; nomParam=&quot;codadret&quot;&gt;
#&gt;           &lt;choix code=&quot;1&quot; nom=&quot;adret(south)&quot;/&gt;
#&gt;           &lt;choix code=&quot;2&quot; nom=&quot;ubac(north)&quot;&gt;
#&gt;             &lt;param format=&quot;real&quot; max=&quot;5.0&quot; min=&quot;-5.0&quot; nom=&quot;ombragetx&quot;&gt;-1.4&lt;/param&gt;
#&gt;           &lt;/choix&gt;
#&gt;         &lt;/option&gt;
#&gt;       &lt;/choix&gt;
#&gt;     &lt;/option&gt;
#&gt; ...
#&gt; &lt;/fichiersta&gt;</code></pre>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
